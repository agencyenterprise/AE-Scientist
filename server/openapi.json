{
  "openapi": "3.1.0",
  "info": {
    "title": "AE Scientist API",
    "description": "Transform LLM conversations into actionable AE ideas",
    "version": "1.0.0"
  },
  "paths": {
    "/api/auth/me": {
      "get": {
        "tags": [
          "authentication"
        ],
        "summary": "Get Current User Info",
        "description": "Get current authenticated user information.\n\nArgs:\n    request: Current request\n\nReturns:\n    Current user information",
        "operationId": "get_current_user_info_api_auth_me_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthUser"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/status": {
      "get": {
        "tags": [
          "authentication"
        ],
        "summary": "Get Auth Status",
        "description": "Check authentication status.\n\nArgs:\n    request: Current request (provides Authorization header)\n\nReturns:\n    Authentication status and user info if authenticated",
        "operationId": "get_auth_status_api_auth_status_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthStatus"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/logout": {
      "post": {
        "tags": [
          "authentication"
        ],
        "summary": "Logout",
        "description": "Log out current user.\n\nArgs:\n    request: FastAPI request object\n    response: FastAPI response object\n\nReturns:\n    Success message",
        "operationId": "logout_api_auth_logout_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": {
                    "type": "string"
                  },
                  "type": "object",
                  "title": "Response Logout Api Auth Logout Post"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/cleanup": {
      "delete": {
        "tags": [
          "authentication"
        ],
        "summary": "Cleanup Expired Sessions",
        "description": "Clean up expired sessions (admin endpoint).\n\nReturns:\n    Cleanup result message",
        "operationId": "cleanup_expired_sessions_api_auth_cleanup_delete",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": {
                    "type": "string"
                  },
                  "type": "object",
                  "title": "Response Cleanup Expired Sessions Api Auth Cleanup Delete"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/clerk-session": {
      "post": {
        "tags": [
          "authentication"
        ],
        "summary": "Clerk Session Exchange",
        "description": "Exchange Clerk session token for internal session token.\n\nThis allows the frontend to use Clerk for auth UI,\nbut still use our internal session system for API calls.\n\nArgs:\n    request: Request with Authorization header containing Clerk session token\n\nReturns:\n    Dict with internal session_token and user info",
        "operationId": "clerk_session_exchange_api_auth_clerk_session_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Clerk Session Exchange Api Auth Clerk Session Post"
                }
              }
            }
          }
        }
      }
    },
    "/api/billing/wallet": {
      "get": {
        "tags": [
          "billing"
        ],
        "summary": "Get Wallet",
        "description": "Return wallet balance (in cents) plus recent transactions for the authenticated user.\n\nArgs:\n    limit: Maximum number of transactions to return (1-100).\n    offset: Number of transactions to skip.\n    transaction_types: Comma-separated list of transaction types to include.\n        Valid types: purchase, debit, refund, adjustment, hold, hold_reversal.\n        If not specified, returns all transaction types.",
        "operationId": "get_wallet_api_billing_wallet_get",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 20,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Offset"
            }
          },
          {
            "name": "transaction_types",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Transaction Types"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BillingWalletResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/billing/packs": {
      "get": {
        "tags": [
          "billing"
        ],
        "summary": "List Funding Options",
        "description": "List available funding options (Stripe prices).\n\nWith the new 1:1 model, paying $X adds $X to the wallet.",
        "operationId": "list_funding_options_api_billing_packs_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FundingOptionListResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/billing/checkout-session": {
      "post": {
        "tags": [
          "billing"
        ],
        "summary": "Create Checkout Session",
        "description": "Create a Stripe Checkout session for the requested price ID.\n\nWith the new 1:1 model, the Stripe amount equals the wallet credit amount.",
        "operationId": "create_checkout_session_api_billing_checkout_session_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CheckoutSessionCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CheckoutSessionCreateResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/billing/wallet/stream": {
      "get": {
        "tags": [
          "billing"
        ],
        "summary": "Stream Wallet",
        "description": "Stream wallet balance updates for the authenticated user.\nUses PostgreSQL LISTEN/NOTIFY for efficient real-time updates.\nEmits a balance event (in cents) when the balance changes and a heartbeat periodically.",
        "operationId": "stream_wallet_api_billing_wallet_stream_get",
        "responses": {
          "200": {
            "description": "Wallet balance updates (in cents) and heartbeats",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WalletStreamEvent"
                }
              },
              "text/event-stream": {
                "schema": {
                  "$ref": "#/components/schemas/WalletStreamEvent"
                }
              }
            }
          }
        }
      }
    },
    "/api/billing/stripe-webhook": {
      "post": {
        "tags": [
          "billing"
        ],
        "summary": "Stripe Webhook",
        "description": "Handle Stripe webhook events.",
        "operationId": "stripe_webhook_api_billing_stripe_webhook_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/conversations/{conversation_id}/idea/chat": {
      "get": {
        "summary": "Get Chat History",
        "description": "Get chat history for a conversation's idea.",
        "operationId": "get_chat_history_api_conversations__conversation_id__idea_chat_get",
        "parameters": [
          {
            "name": "conversation_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Conversation Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "anyOf": [
                    {
                      "$ref": "#/components/schemas/ChatHistoryResponse"
                    },
                    {
                      "$ref": "#/components/schemas/ErrorResponse"
                    }
                  ],
                  "title": "Response Get Chat History Api Conversations  Conversation Id  Idea Chat Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/conversations/{conversation_id}/idea/chat/stream": {
      "post": {
        "summary": "Stream Chat With Idea",
        "description": "Stream chat messages with real-time updates via Server-Sent Events.",
        "operationId": "stream_chat_with_idea_api_conversations__conversation_id__idea_chat_stream_post",
        "parameters": [
          {
            "name": "conversation_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Conversation Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ChatRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Server-sent events emitted while streaming chat responses",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatStreamEvent"
                }
              },
              "text/event-stream": {
                "schema": {
                  "$ref": "#/components/schemas/ChatStreamEvent"
                }
              }
            }
          },
          "402": {
            "description": "Insufficient balance - returned as SSE error event",
            "content": {
              "text/event-stream": {
                "schema": {
                  "$ref": "#/components/schemas/ChatStreamEvent"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/conversations/import": {
      "post": {
        "summary": "Import Conversation",
        "description": "Import a conversation from a share URL and automatically generate an idea with streaming.",
        "operationId": "import_conversation_api_conversations_import_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "oneOf": [
                  {
                    "$ref": "#/components/schemas/ImportChatPrompt"
                  },
                  {
                    "$ref": "#/components/schemas/ImportChatCreateNew"
                  },
                  {
                    "$ref": "#/components/schemas/ImportChatUpdateExisting"
                  }
                ],
                "title": "Import Data",
                "discriminator": {
                  "propertyName": "duplicate_resolution",
                  "mapping": {
                    "prompt": "#/components/schemas/ImportChatPrompt",
                    "create_new": "#/components/schemas/ImportChatCreateNew",
                    "update_existing": "#/components/schemas/ImportChatUpdateExisting"
                  }
                }
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Server-sent events emitted while importing a conversation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConversationImportStreamEvent"
                }
              },
              "text/event-stream": {
                "schema": {
                  "$ref": "#/components/schemas/ConversationImportStreamEvent"
                }
              }
            }
          },
          "402": {
            "description": "Insufficient balance to import conversation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InsufficientBalanceError"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/conversations/import/manual": {
      "post": {
        "summary": "Import Manual Seed",
        "description": "Generate an idea directly from a manually provided title and hypothesis.",
        "operationId": "import_manual_seed_api_conversations_import_manual_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ManualIdeaSeedRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Server-sent events emitted while generating an idea from manual seed data",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConversationImportStreamEvent"
                }
              },
              "text/event-stream": {
                "schema": {
                  "$ref": "#/components/schemas/ConversationImportStreamEvent"
                }
              }
            }
          },
          "402": {
            "description": "Insufficient balance to generate idea",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InsufficientBalanceError"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/conversations/{conversation_id}/idea/research-run/{run_id}/seed-new-idea": {
      "post": {
        "summary": "Seed Idea From Run",
        "description": "Seed a new idea from a completed research run.\n\nCreates a new conversation and idea by copying the idea version data\nfrom the specified run. The new conversation is linked to the parent run via\nparent_run_id.\n\nArgs:\n    conversation_id: ID of the conversation containing the source idea\n    run_id: ID of the research run to seed from\n    request: FastAPI request object\n    response: FastAPI response object\n\nReturns:\n    SeedFromRunResponse with new conversation_id and idea_id\n\nRaises:\n    404: If conversation, run, or idea not found\n    403: If user doesn't own the conversation\n    400: If run is not completed",
        "operationId": "seed_idea_from_run_api_conversations__conversation_id__idea_research_run__run_id__seed_new_idea_post",
        "parameters": [
          {
            "name": "conversation_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Conversation Id"
            }
          },
          {
            "name": "run_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Run Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SeedFromRunResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/conversations": {
      "get": {
        "summary": "List Conversations",
        "description": "Get a paginated list of conversations for the current user.\n\nQuery Parameters:\n- conversation_status: Filter by \"draft\" or \"with_research\" (optional)\n- run_status: Filter by \"pending\", \"running\", \"completed\", or \"failed\" (optional)",
        "operationId": "list_conversations_api_conversations_get",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 100,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Offset"
            }
          },
          {
            "name": "conversation_status",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Conversation Status"
            }
          },
          {
            "name": "run_status",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Run Status"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "anyOf": [
                    {
                      "$ref": "#/components/schemas/ConversationListResponse"
                    },
                    {
                      "$ref": "#/components/schemas/ErrorResponse"
                    }
                  ],
                  "title": "Response List Conversations Api Conversations Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/conversations/{conversation_id}": {
      "get": {
        "summary": "Get Conversation",
        "description": "Get a specific conversation by ID with complete details.",
        "operationId": "get_conversation_api_conversations__conversation_id__get",
        "parameters": [
          {
            "name": "conversation_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Conversation Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "anyOf": [
                    {
                      "$ref": "#/components/schemas/ConversationResponse"
                    },
                    {
                      "$ref": "#/components/schemas/ErrorResponse"
                    }
                  ],
                  "title": "Response Get Conversation Api Conversations  Conversation Id  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "summary": "Delete Conversation",
        "description": "Delete a specific conversation by ID.",
        "operationId": "delete_conversation_api_conversations__conversation_id__delete",
        "parameters": [
          {
            "name": "conversation_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Conversation Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "anyOf": [
                    {
                      "$ref": "#/components/schemas/MessageResponse"
                    },
                    {
                      "$ref": "#/components/schemas/ErrorResponse"
                    }
                  ],
                  "title": "Response Delete Conversation Api Conversations  Conversation Id  Delete"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "summary": "Update Conversation",
        "description": "Update a conversation's title.",
        "operationId": "update_conversation_api_conversations__conversation_id__patch",
        "parameters": [
          {
            "name": "conversation_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Conversation Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConversationUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "anyOf": [
                    {
                      "$ref": "#/components/schemas/ConversationUpdateResponse"
                    },
                    {
                      "$ref": "#/components/schemas/ErrorResponse"
                    }
                  ],
                  "title": "Response Update Conversation Api Conversations  Conversation Id  Patch"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/conversations/{conversation_id}/costs": {
      "get": {
        "summary": "Get Conversation Costs",
        "description": "Get the cost breakdown for a specific conversation.",
        "operationId": "get_conversation_costs_api_conversations__conversation_id__costs_get",
        "parameters": [
          {
            "name": "conversation_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Conversation Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "anyOf": [
                    {
                      "$ref": "#/components/schemas/ConversationCostResponse"
                    },
                    {
                      "$ref": "#/components/schemas/ErrorResponse"
                    }
                  ],
                  "title": "Response Get Conversation Costs Api Conversations  Conversation Id  Costs Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/conversations/{conversation_id}/imported_chat_summary": {
      "get": {
        "summary": "Get Conversation Summary",
        "description": "Get the current summary for a conversation.\n\nPrefers the imported conversation summary, falls back to chat summary, then to\nconcatenated imported chat messages if neither exists.",
        "operationId": "get_conversation_summary_api_conversations__conversation_id__imported_chat_summary_get",
        "parameters": [
          {
            "name": "conversation_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Conversation Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "anyOf": [
                    {
                      "$ref": "#/components/schemas/SummaryResponse"
                    },
                    {
                      "$ref": "#/components/schemas/ErrorResponse"
                    }
                  ],
                  "title": "Response Get Conversation Summary Api Conversations  Conversation Id  Imported Chat Summary Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/conversations/{conversation_id}/summary": {
      "patch": {
        "summary": "Update Conversation Summary",
        "description": "Update a conversation's summary.",
        "operationId": "update_conversation_summary_api_conversations__conversation_id__summary_patch",
        "parameters": [
          {
            "name": "conversation_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Conversation Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ImportedConversationSummaryUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "anyOf": [
                    {
                      "$ref": "#/components/schemas/SummaryResponse"
                    },
                    {
                      "$ref": "#/components/schemas/ErrorResponse"
                    }
                  ],
                  "title": "Response Update Conversation Summary Api Conversations  Conversation Id  Summary Patch"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/conversations/{conversation_id}/files": {
      "post": {
        "summary": "Upload File",
        "description": "Upload a file attachment for a conversation.\n\nArgs:\n    conversation_id: ID of the conversation\n    file: File to upload (multipart/form-data)\n    llm_model: LLM model to use for processing\n    llm_provider: LLM provider to use for processing\n\nReturns:\n    JSON response with file metadata\n\nRaises:\n    HTTPException: If validation fails or upload fails",
        "operationId": "upload_file_api_conversations__conversation_id__files_post",
        "parameters": [
          {
            "name": "conversation_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Conversation Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_upload_file_api_conversations__conversation_id__files_post"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "anyOf": [
                    {
                      "$ref": "#/components/schemas/FileUploadResponse"
                    },
                    {
                      "$ref": "#/components/schemas/ErrorResponse"
                    }
                  ],
                  "title": "Response Upload File Api Conversations  Conversation Id  Files Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "summary": "List Conversation Files",
        "description": "List all file attachments for a conversation.\n\nArgs:\n    conversation_id: ID of the conversation\n\nReturns:\n    JSON response with list of file attachments\n\nRaises:\n    HTTPException: If conversation not found",
        "operationId": "list_conversation_files_api_conversations__conversation_id__files_get",
        "parameters": [
          {
            "name": "conversation_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Conversation Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "anyOf": [
                    {
                      "$ref": "#/components/schemas/FileListResponse"
                    },
                    {
                      "$ref": "#/components/schemas/ErrorResponse"
                    }
                  ],
                  "title": "Response List Conversation Files Api Conversations  Conversation Id  Files Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/conversations/files/{file_id}/download": {
      "get": {
        "summary": "Download File",
        "description": "Download a file attachment via temporary signed URL.\n\nArgs:\n    file_id: ID of the file attachment\n\nReturns:\n    Redirect response to S3 signed URL\n\nRaises:\n    HTTPException: If file not found or download fails",
        "operationId": "download_file_api_conversations_files__file_id__download_get",
        "parameters": [
          {
            "name": "file_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "File Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/conversations/{conversation_id}/idea": {
      "get": {
        "summary": "Get Idea",
        "description": "Get the idea for a conversation.",
        "operationId": "get_idea_api_conversations__conversation_id__idea_get",
        "parameters": [
          {
            "name": "conversation_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Conversation Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "anyOf": [
                    {
                      "$ref": "#/components/schemas/IdeaGetResponse"
                    },
                    {
                      "$ref": "#/components/schemas/ErrorResponse"
                    }
                  ],
                  "title": "Response Get Idea Api Conversations  Conversation Id  Idea Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "summary": "Update Idea",
        "description": "Manually update an idea with all fields.",
        "operationId": "update_idea_api_conversations__conversation_id__idea_patch",
        "parameters": [
          {
            "name": "conversation_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Conversation Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/IdeaRefinementRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "anyOf": [
                    {
                      "$ref": "#/components/schemas/IdeaUpdateResponse"
                    },
                    {
                      "$ref": "#/components/schemas/ErrorResponse"
                    }
                  ],
                  "title": "Response Update Idea Api Conversations  Conversation Id  Idea Patch"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/conversations/{conversation_id}/idea/versions": {
      "get": {
        "summary": "Get Idea Versions",
        "description": "Get all versions of an idea for a conversation.",
        "operationId": "get_idea_versions_api_conversations__conversation_id__idea_versions_get",
        "parameters": [
          {
            "name": "conversation_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Conversation Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "anyOf": [
                    {
                      "$ref": "#/components/schemas/IdeaVersionsResponse"
                    },
                    {
                      "$ref": "#/components/schemas/ErrorResponse"
                    }
                  ],
                  "title": "Response Get Idea Versions Api Conversations  Conversation Id  Idea Versions Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/conversations/{conversation_id}/idea/versions/{version_id}/activate": {
      "post": {
        "summary": "Activate Idea Version",
        "description": "Recover a previous version by creating a new version with the same content.",
        "operationId": "activate_idea_version_api_conversations__conversation_id__idea_versions__version_id__activate_post",
        "parameters": [
          {
            "name": "conversation_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Conversation Id"
            }
          },
          {
            "name": "version_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Version Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "anyOf": [
                    {
                      "$ref": "#/components/schemas/IdeaUpdateResponse"
                    },
                    {
                      "$ref": "#/components/schemas/ErrorResponse"
                    }
                  ],
                  "title": "Response Activate Idea Version Api Conversations  Conversation Id  Idea Versions  Version Id  Activate Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/llm-defaults/providers": {
      "get": {
        "summary": "Get Llm Providers",
        "description": "Get all available LLM providers and their supported models.",
        "operationId": "get_llm_providers_api_llm_defaults_providers_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "anyOf": [
                    {
                      "$ref": "#/components/schemas/LLMProvidersResponse"
                    },
                    {
                      "$ref": "#/components/schemas/ErrorResponse"
                    }
                  ],
                  "title": "Response Get Llm Providers Api Llm Defaults Providers Get"
                }
              }
            }
          }
        }
      }
    },
    "/api/llm-defaults/{prompt_type}": {
      "get": {
        "summary": "Get Llm Defaults",
        "description": "Get the current default LLM settings for a specific prompt type.",
        "operationId": "get_llm_defaults_api_llm_defaults__prompt_type__get",
        "parameters": [
          {
            "name": "prompt_type",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Prompt Type"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "anyOf": [
                    {
                      "$ref": "#/components/schemas/LLMDefaultsResponse"
                    },
                    {
                      "$ref": "#/components/schemas/ErrorResponse"
                    }
                  ],
                  "title": "Response Get Llm Defaults Api Llm Defaults  Prompt Type  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "summary": "Update Llm Defaults",
        "description": "Update the default LLM settings for a specific prompt type.",
        "operationId": "update_llm_defaults_api_llm_defaults__prompt_type__put",
        "parameters": [
          {
            "name": "prompt_type",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Prompt Type"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LLMDefaultsUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "anyOf": [
                    {
                      "$ref": "#/components/schemas/LLMDefaultsUpdateResponse"
                    },
                    {
                      "$ref": "#/components/schemas/ErrorResponse"
                    }
                  ],
                  "title": "Response Update Llm Defaults Api Llm Defaults  Prompt Type  Put"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/llm-prompts/{prompt_type}": {
      "get": {
        "summary": "Get Llm Prompt",
        "description": "Get the active LLM prompt for a given type.\nReturns the prompt from database if available, otherwise indicates default is being used.",
        "operationId": "get_llm_prompt_api_llm_prompts__prompt_type__get",
        "parameters": [
          {
            "name": "prompt_type",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Prompt Type"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "anyOf": [
                    {
                      "$ref": "#/components/schemas/LLMPromptResponse"
                    },
                    {
                      "$ref": "#/components/schemas/ErrorResponse"
                    }
                  ],
                  "title": "Response Get Llm Prompt Api Llm Prompts  Prompt Type  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Create Llm Prompt",
        "description": "Create or update an LLM prompt for a given type.\nThis will deactivate any existing active prompt of the same type.",
        "operationId": "create_llm_prompt_api_llm_prompts__prompt_type__post",
        "parameters": [
          {
            "name": "prompt_type",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Prompt Type"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LLMPromptCreateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "anyOf": [
                    {
                      "$ref": "#/components/schemas/LLMPromptResponse"
                    },
                    {
                      "$ref": "#/components/schemas/ErrorResponse"
                    }
                  ],
                  "title": "Response Create Llm Prompt Api Llm Prompts  Prompt Type  Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "summary": "Delete Llm Prompt",
        "description": "Deactivate the active LLM prompt for a given type.\nThis will revert to using the default prompt from code.",
        "operationId": "delete_llm_prompt_api_llm_prompts__prompt_type__delete",
        "parameters": [
          {
            "name": "prompt_type",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Prompt Type"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "anyOf": [
                    {
                      "$ref": "#/components/schemas/LLMPromptDeleteResponse"
                    },
                    {
                      "$ref": "#/components/schemas/ErrorResponse"
                    }
                  ],
                  "title": "Response Delete Llm Prompt Api Llm Prompts  Prompt Type  Delete"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/llm-prompts/{prompt_type}/default": {
      "get": {
        "summary": "Get Default Llm Prompt",
        "description": "Get the default LLM prompt for a given type.\nThis always returns the hardcoded default prompt, ignoring any custom prompts.",
        "operationId": "get_default_llm_prompt_api_llm_prompts__prompt_type__default_get",
        "parameters": [
          {
            "name": "prompt_type",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Prompt Type"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "anyOf": [
                    {
                      "$ref": "#/components/schemas/LLMPromptResponse"
                    },
                    {
                      "$ref": "#/components/schemas/ErrorResponse"
                    }
                  ],
                  "title": "Response Get Default Llm Prompt Api Llm Prompts  Prompt Type  Default Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/mcp-integration/key": {
      "get": {
        "tags": [
          "mcp-integration"
        ],
        "summary": "Get Mcp Api Key",
        "description": "Get the current user's MCP API key.",
        "operationId": "get_mcp_api_key_api_mcp_integration_key_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MCPApiKeyResponse"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "mcp-integration"
        ],
        "summary": "Revoke Mcp Api Key",
        "description": "Revoke the current user's MCP API key.",
        "operationId": "revoke_mcp_api_key_api_mcp_integration_key_delete",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MCPApiKeyRevokedResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/mcp-integration/generate-key": {
      "post": {
        "tags": [
          "mcp-integration"
        ],
        "summary": "Generate Mcp Api Key",
        "description": "Generate a new MCP API key for the current user (replaces existing).",
        "operationId": "generate_mcp_api_key_api_mcp_integration_generate_key_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MCPApiKeyGeneratedResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/public-config": {
      "get": {
        "tags": [
          "public-config"
        ],
        "summary": "Get Public Config",
        "operationId": "get_public_config_api_public_config_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PublicConfigResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/public-config/best-paper-url": {
      "get": {
        "tags": [
          "public-config"
        ],
        "summary": "Get Best Paper Download Url",
        "description": "Generate a temporary signed URL for downloading the best paper example.\nThe URL expires after 1 hour.",
        "operationId": "get_best_paper_download_url_api_public_config_best_paper_url_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": {
                    "type": "string"
                  },
                  "type": "object",
                  "title": "Response Get Best Paper Download Url Api Public Config Best Paper Url Get"
                }
              }
            }
          }
        }
      }
    },
    "/api/research-pipeline/events/{run_id}/stage-progress": {
      "post": {
        "tags": [
          "research-pipeline-events"
        ],
        "summary": "Ingest Stage Progress",
        "operationId": "ingest_stage_progress_api_research_pipeline_events__run_id__stage_progress_post",
        "parameters": [
          {
            "name": "run_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Run Id"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Authorization"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StageProgressPayload"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/research-pipeline/events/{run_id}/stage-completed": {
      "post": {
        "tags": [
          "research-pipeline-events"
        ],
        "summary": "Ingest Stage Completed",
        "operationId": "ingest_stage_completed_api_research_pipeline_events__run_id__stage_completed_post",
        "parameters": [
          {
            "name": "run_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Run Id"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Authorization"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StageCompletedPayload"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/research-pipeline/events/{run_id}/paper-generation-progress": {
      "post": {
        "tags": [
          "research-pipeline-events"
        ],
        "summary": "Ingest Paper Generation Progress",
        "operationId": "ingest_paper_generation_progress_api_research_pipeline_events__run_id__paper_generation_progress_post",
        "parameters": [
          {
            "name": "run_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Run Id"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Authorization"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PaperGenerationProgressPayload"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/research-pipeline/events/{run_id}/artifact-uploaded": {
      "post": {
        "tags": [
          "research-pipeline-events"
        ],
        "summary": "Ingest Artifact Uploaded",
        "operationId": "ingest_artifact_uploaded_api_research_pipeline_events__run_id__artifact_uploaded_post",
        "parameters": [
          {
            "name": "run_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Run Id"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Authorization"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ArtifactUploadedPayload"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/research-pipeline/events/{run_id}/review-completed": {
      "post": {
        "tags": [
          "research-pipeline-events"
        ],
        "summary": "Ingest Review Completed",
        "operationId": "ingest_review_completed_api_research_pipeline_events__run_id__review_completed_post",
        "parameters": [
          {
            "name": "run_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Run Id"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Authorization"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ReviewCompletedPayload"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/research-pipeline/events/{run_id}/stage-summary": {
      "post": {
        "tags": [
          "research-pipeline-events"
        ],
        "summary": "Ingest Stage Summary",
        "operationId": "ingest_stage_summary_api_research_pipeline_events__run_id__stage_summary_post",
        "parameters": [
          {
            "name": "run_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Run Id"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Authorization"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StageSummaryPayload"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/research-pipeline/events/{run_id}/stage-skip-window": {
      "post": {
        "tags": [
          "research-pipeline-events"
        ],
        "summary": "Ingest Stage Skip Window",
        "operationId": "ingest_stage_skip_window_api_research_pipeline_events__run_id__stage_skip_window_post",
        "parameters": [
          {
            "name": "run_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Run Id"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Authorization"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StageSkipWindowPayload"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/research-pipeline/events/{run_id}/tree-viz-stored": {
      "post": {
        "tags": [
          "research-pipeline-events"
        ],
        "summary": "Ingest Tree Viz Stored",
        "operationId": "ingest_tree_viz_stored_api_research_pipeline_events__run_id__tree_viz_stored_post",
        "parameters": [
          {
            "name": "run_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Run Id"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Authorization"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TreeVizStoredPayload"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/research-pipeline/events/{run_id}/run-log": {
      "post": {
        "tags": [
          "research-pipeline-events"
        ],
        "summary": "Ingest Run Log",
        "operationId": "ingest_run_log_api_research_pipeline_events__run_id__run_log_post",
        "parameters": [
          {
            "name": "run_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Run Id"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Authorization"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RunLogPayload"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/research-pipeline/events/{run_id}/codex-event": {
      "post": {
        "tags": [
          "research-pipeline-events"
        ],
        "summary": "Ingest Codex Event",
        "operationId": "ingest_codex_event_api_research_pipeline_events__run_id__codex_event_post",
        "parameters": [
          {
            "name": "run_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Run Id"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Authorization"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CodexEventPayload"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/research-pipeline/events/{run_id}/codex-events-bulk": {
      "post": {
        "tags": [
          "research-pipeline-events"
        ],
        "summary": "Ingest Codex Events Bulk",
        "description": "Bulk ingest codex events for improved performance.",
        "operationId": "ingest_codex_events_bulk_api_research_pipeline_events__run_id__codex_events_bulk_post",
        "parameters": [
          {
            "name": "run_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Run Id"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Authorization"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CodexEventsBulkPayload"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/research-pipeline/events/{run_id}/running-code": {
      "post": {
        "tags": [
          "research-pipeline-events"
        ],
        "summary": "Ingest Running Code",
        "operationId": "ingest_running_code_api_research_pipeline_events__run_id__running_code_post",
        "parameters": [
          {
            "name": "run_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Run Id"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Authorization"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RunningCodePayload"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/research-pipeline/events/{run_id}/run-completed": {
      "post": {
        "tags": [
          "research-pipeline-events"
        ],
        "summary": "Ingest Run Completed",
        "operationId": "ingest_run_completed_api_research_pipeline_events__run_id__run_completed_post",
        "parameters": [
          {
            "name": "run_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Run Id"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Authorization"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RunCompletedPayload"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/research-pipeline/events/{run_id}/run-started": {
      "post": {
        "tags": [
          "research-pipeline-events"
        ],
        "summary": "Ingest Run Started",
        "operationId": "ingest_run_started_api_research_pipeline_events__run_id__run_started_post",
        "parameters": [
          {
            "name": "run_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Run Id"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/research-pipeline/events/{run_id}/initialization-progress": {
      "post": {
        "tags": [
          "research-pipeline-events"
        ],
        "summary": "Ingest Initialization Progress",
        "operationId": "ingest_initialization_progress_api_research_pipeline_events__run_id__initialization_progress_post",
        "parameters": [
          {
            "name": "run_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Run Id"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Authorization"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/InitializationProgressPayload"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/research-pipeline/events/{run_id}/run-finished": {
      "post": {
        "tags": [
          "research-pipeline-events"
        ],
        "summary": "Ingest Run Finished",
        "operationId": "ingest_run_finished_api_research_pipeline_events__run_id__run_finished_post",
        "parameters": [
          {
            "name": "run_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Run Id"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Authorization"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RunFinishedPayload"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/research-pipeline/events/{run_id}/heartbeat": {
      "post": {
        "tags": [
          "research-pipeline-events"
        ],
        "summary": "Ingest Heartbeat",
        "operationId": "ingest_heartbeat_api_research_pipeline_events__run_id__heartbeat_post",
        "parameters": [
          {
            "name": "run_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Run Id"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/research-pipeline/events/{run_id}/hw-stats": {
      "post": {
        "tags": [
          "research-pipeline-events"
        ],
        "summary": "Ingest Hw Stats",
        "operationId": "ingest_hw_stats_api_research_pipeline_events__run_id__hw_stats_post",
        "parameters": [
          {
            "name": "run_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Run Id"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Authorization"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/HardwareStatsPayload"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/research-pipeline/events/{run_id}/gpu-shortage": {
      "post": {
        "tags": [
          "research-pipeline-events"
        ],
        "summary": "Ingest Gpu Shortage",
        "operationId": "ingest_gpu_shortage_api_research_pipeline_events__run_id__gpu_shortage_post",
        "parameters": [
          {
            "name": "run_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Run Id"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Authorization"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GPUShortagePayload"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/research-pipeline/events/{run_id}/token-usage": {
      "post": {
        "tags": [
          "research-pipeline-events"
        ],
        "summary": "Ingest Token Usage",
        "operationId": "ingest_token_usage_api_research_pipeline_events__run_id__token_usage_post",
        "parameters": [
          {
            "name": "run_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Run Id"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Authorization"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TokenUsagePayload"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/research-pipeline/events/{run_id}/figure-reviews": {
      "post": {
        "tags": [
          "research-pipeline-events"
        ],
        "summary": "Ingest Figure Reviews",
        "operationId": "ingest_figure_reviews_api_research_pipeline_events__run_id__figure_reviews_post",
        "parameters": [
          {
            "name": "run_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Run Id"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Authorization"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FigureReviewsPayload"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/research-pipeline/events/{run_id}/presigned-upload-url": {
      "post": {
        "tags": [
          "research-pipeline-events"
        ],
        "summary": "Get Presigned Upload Url",
        "description": "Generate a presigned URL for uploading an artifact to S3.",
        "operationId": "get_presigned_upload_url_api_research_pipeline_events__run_id__presigned_upload_url_post",
        "parameters": [
          {
            "name": "run_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Run Id"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Authorization"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PresignedUploadUrlRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PresignedUploadUrlResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/research-pipeline/events/{run_id}/artifact-exists": {
      "post": {
        "tags": [
          "research-pipeline-events"
        ],
        "summary": "Check Artifact Exists",
        "description": "Check if an artifact already exists in S3 and return its size.",
        "operationId": "check_artifact_exists_api_research_pipeline_events__run_id__artifact_exists_post",
        "parameters": [
          {
            "name": "run_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Run Id"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Authorization"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ArtifactExistsRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ArtifactExistsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/research-pipeline/events/{run_id}/multipart-upload-init": {
      "post": {
        "tags": [
          "research-pipeline-events"
        ],
        "summary": "Init Multipart Upload",
        "description": "Initiate a multipart upload for large files.",
        "operationId": "init_multipart_upload_api_research_pipeline_events__run_id__multipart_upload_init_post",
        "parameters": [
          {
            "name": "run_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Run Id"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Authorization"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MultipartUploadInitRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MultipartUploadInitResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/research-pipeline/events/{run_id}/multipart-upload-complete": {
      "post": {
        "tags": [
          "research-pipeline-events"
        ],
        "summary": "Complete Multipart Upload",
        "description": "Complete a multipart upload.",
        "operationId": "complete_multipart_upload_api_research_pipeline_events__run_id__multipart_upload_complete_post",
        "parameters": [
          {
            "name": "run_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Run Id"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Authorization"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MultipartUploadCompleteRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MultipartUploadCompleteResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/research-pipeline/events/{run_id}/multipart-upload-abort": {
      "post": {
        "tags": [
          "research-pipeline-events"
        ],
        "summary": "Abort Multipart Upload",
        "description": "Abort a multipart upload.",
        "operationId": "abort_multipart_upload_api_research_pipeline_events__run_id__multipart_upload_abort_post",
        "parameters": [
          {
            "name": "run_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Run Id"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Authorization"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MultipartUploadAbortRequest"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/research-pipeline/events/{run_id}/parent-run-files": {
      "post": {
        "tags": [
          "research-pipeline-events"
        ],
        "summary": "Get Parent Run Files",
        "description": "List files from a parent run and return presigned download URLs.",
        "operationId": "get_parent_run_files_api_research_pipeline_events__run_id__parent_run_files_post",
        "parameters": [
          {
            "name": "run_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Run Id"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Authorization"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ParentRunFilesRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ParentRunFilesResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/research-pipeline/events/{run_id}/list-datasets": {
      "post": {
        "tags": [
          "research-pipeline-events"
        ],
        "summary": "List Datasets",
        "description": "List files in a datasets folder and return presigned download URLs.",
        "operationId": "list_datasets_api_research_pipeline_events__run_id__list_datasets_post",
        "parameters": [
          {
            "name": "run_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Run Id"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Authorization"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ListDatasetsRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListDatasetsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/research-pipeline/events/{run_id}/dataset-upload-url": {
      "post": {
        "tags": [
          "research-pipeline-events"
        ],
        "summary": "Get Dataset Upload Url",
        "description": "Generate a presigned URL for uploading a file to the datasets folder.",
        "operationId": "get_dataset_upload_url_api_research_pipeline_events__run_id__dataset_upload_url_post",
        "parameters": [
          {
            "name": "run_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Run Id"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Authorization"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DatasetUploadUrlRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DatasetUploadUrlResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/conversations/{conversation_id}/idea/research-run/{run_id}/events": {
      "get": {
        "tags": [
          "research-pipeline"
        ],
        "summary": "Stream Research Run Events",
        "operationId": "stream_research_run_events_api_conversations__conversation_id__idea_research_run__run_id__events_get",
        "parameters": [
          {
            "name": "conversation_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Conversation Id"
            }
          },
          {
            "name": "run_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Run Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Research pipeline progress events",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResearchRunStreamEvent"
                }
              },
              "text/event-stream": {
                "schema": {
                  "$ref": "#/components/schemas/ResearchRunStreamEvent"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/conversations/{conversation_id}/idea/research-run/{run_id}/snapshot": {
      "get": {
        "tags": [
          "research-pipeline"
        ],
        "summary": "Get Research Run Snapshot",
        "operationId": "get_research_run_snapshot_api_conversations__conversation_id__idea_research_run__run_id__snapshot_get",
        "parameters": [
          {
            "name": "conversation_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Conversation Id"
            }
          },
          {
            "name": "run_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Run Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResearchRunInitialEventData"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/conversations/research/gpu-types": {
      "get": {
        "tags": [
          "research-pipeline"
        ],
        "summary": "List Research Gpu Types",
        "operationId": "list_research_gpu_types_api_conversations_research_gpu_types_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GpuTypeListResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/conversations/{conversation_id}/idea/research-run": {
      "post": {
        "tags": [
          "research-pipeline"
        ],
        "summary": "Submit Idea For Research",
        "operationId": "submit_idea_for_research_api_conversations__conversation_id__idea_research_run_post",
        "parameters": [
          {
            "name": "conversation_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Conversation Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LaunchResearchRunRequest"
              }
            }
          }
        },
        "responses": {
          "202": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResearchRunAcceptedResponse"
                }
              }
            }
          },
          "402": {
            "description": "Insufficient balance to launch research",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InsufficientBalanceError"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/conversations/{conversation_id}/idea/research-run/{run_id}": {
      "get": {
        "tags": [
          "research-pipeline"
        ],
        "summary": "Get Research Run Details",
        "operationId": "get_research_run_details_api_conversations__conversation_id__idea_research_run__run_id__get",
        "parameters": [
          {
            "name": "conversation_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Conversation Id"
            }
          },
          {
            "name": "run_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Run Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResearchRunDetailsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/conversations/{conversation_id}/idea/research-run/{run_id}/review": {
      "get": {
        "tags": [
          "research-pipeline"
        ],
        "summary": "Get Research Run Review",
        "description": "Fetch LLM review data for a research run.",
        "operationId": "get_research_run_review_api_conversations__conversation_id__idea_research_run__run_id__review_get",
        "parameters": [
          {
            "name": "conversation_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Conversation Id"
            }
          },
          {
            "name": "run_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Run Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "anyOf": [
                    {
                      "$ref": "#/components/schemas/LlmReviewResponse"
                    },
                    {
                      "$ref": "#/components/schemas/LlmReviewNotFoundResponse"
                    }
                  ],
                  "title": "Response Get Research Run Review Api Conversations  Conversation Id  Idea Research Run  Run Id  Review Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/conversations/{conversation_id}/idea/research-run/{run_id}/executions/{execution_id}/terminate": {
      "post": {
        "tags": [
          "research-pipeline"
        ],
        "summary": "Terminate Code Execution",
        "operationId": "terminate_code_execution_api_conversations__conversation_id__idea_research_run__run_id__executions__execution_id__terminate_post",
        "parameters": [
          {
            "name": "conversation_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Conversation Id"
            }
          },
          {
            "name": "run_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Run Id"
            }
          },
          {
            "name": "execution_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Execution Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TerminateExecutionRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TerminateExecutionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/conversations/{conversation_id}/idea/research-run/{run_id}/skip-stage": {
      "post": {
        "tags": [
          "research-pipeline"
        ],
        "summary": "Skip Active Stage",
        "description": "Request the running pipeline to skip the current stage.",
        "operationId": "skip_active_stage_api_conversations__conversation_id__idea_research_run__run_id__skip_stage_post",
        "parameters": [
          {
            "name": "conversation_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Conversation Id"
            }
          },
          {
            "name": "run_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Run Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SkipStageRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SkipStageResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/conversations/{conversation_id}/idea/research-run/{run_id}/stop": {
      "post": {
        "tags": [
          "research-pipeline"
        ],
        "summary": "Stop Research Run",
        "operationId": "stop_research_run_api_conversations__conversation_id__idea_research_run__run_id__stop_post",
        "parameters": [
          {
            "name": "conversation_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Conversation Id"
            }
          },
          {
            "name": "run_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Run Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResearchRunStopResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/conversations/{conversation_id}/idea/research-run/{run_id}/artifacts/{artifact_id}/download": {
      "get": {
        "tags": [
          "research-pipeline"
        ],
        "summary": "Download Research Run Artifact",
        "operationId": "download_research_run_artifact_api_conversations__conversation_id__idea_research_run__run_id__artifacts__artifact_id__download_get",
        "parameters": [
          {
            "name": "conversation_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Conversation Id"
            }
          },
          {
            "name": "run_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Run Id"
            }
          },
          {
            "name": "artifact_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Artifact Id"
            }
          }
        ],
        "responses": {
          "307": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/conversations/{conversation_id}/idea/research-run/{run_id}/artifacts/{artifact_id}/presign": {
      "get": {
        "tags": [
          "research-pipeline"
        ],
        "summary": "Get Artifact Presigned Url",
        "description": "Generate presigned S3 URL for artifact download.",
        "operationId": "get_artifact_presigned_url_api_conversations__conversation_id__idea_research_run__run_id__artifacts__artifact_id__presign_get",
        "parameters": [
          {
            "name": "conversation_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Conversation Id"
            }
          },
          {
            "name": "run_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Run Id"
            }
          },
          {
            "name": "artifact_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Artifact Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ArtifactPresignedUrlResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/conversations/{conversation_id}/idea/research-run/{run_id}/tree-viz": {
      "get": {
        "tags": [
          "research-pipeline"
        ],
        "summary": "List Tree Viz",
        "description": "List stored tree visualizations for a run with gzip compression support.",
        "operationId": "list_tree_viz_api_conversations__conversation_id__idea_research_run__run_id__tree_viz_get",
        "parameters": [
          {
            "name": "conversation_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Conversation Id"
            }
          },
          {
            "name": "run_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Run Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/TreeVizItem"
                  },
                  "title": "Response List Tree Viz Api Conversations  Conversation Id  Idea Research Run  Run Id  Tree Viz Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/research-runs/{run_id}/tree": {
      "get": {
        "tags": [
          "research-pipeline"
        ],
        "summary": "Get Run Tree",
        "description": "Get the full tree of runs (ancestors and descendants) for a given run.\n\nThis returns all runs that are connected to the specified run through\nthe parent-child seeding relationship, including:\n- All ancestor runs (runs that this run was seeded from, transitively)\n- All descendant runs (runs seeded from this run, transitively)\n- The current run itself\n\nThe tree is ordered by creation time, oldest first.",
        "operationId": "get_run_tree_api_research_runs__run_id__tree_get",
        "parameters": [
          {
            "name": "run_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Run Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RunTreeResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/research-runs/": {
      "get": {
        "tags": [
          "research-runs"
        ],
        "summary": "List Research Runs",
        "description": "List research pipeline runs for the current user.\n\nReturns runs ordered by creation date (newest first) with:\n- Run metadata (status, GPU, timestamps)\n- Idea information (title, hypothesis)\n- Latest stage progress (stage, progress percentage, best metric)\n- Artifact count\n- Creator information\n\nSupports filtering by search term and status.",
        "operationId": "list_research_runs_api_research_runs__get",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 500,
              "minimum": 1,
              "description": "Maximum number of runs to return",
              "default": 50,
              "title": "Limit"
            },
            "description": "Maximum number of runs to return"
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Number of runs to skip",
              "default": 0,
              "title": "Offset"
            },
            "description": "Number of runs to skip"
          },
          {
            "name": "search",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Search term for run ID, title, hypothesis, or creator",
              "title": "Search"
            },
            "description": "Search term for run ID, title, hypothesis, or creator"
          },
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Filter by status (pending, running, completed, failed)",
              "title": "Status"
            },
            "description": "Filter by status (pending, running, completed, failed)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResearchRunListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/research-runs/{run_id}/": {
      "get": {
        "tags": [
          "research-runs"
        ],
        "summary": "Get Research Run",
        "description": "Get a single research pipeline run by run_id.\n\nReturns the run with enriched data including:\n- Run metadata (status, GPU, timestamps)\n- Idea information (title, hypothesis)\n- Latest stage progress (stage, progress percentage, best metric)\n- Artifact count\n- Creator information\n- conversation_id for navigation",
        "operationId": "get_research_run_api_research_runs__run_id___get",
        "parameters": [
          {
            "name": "run_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Run Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResearchRunListItem"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/research-runs/{run_id}/costs": {
      "get": {
        "tags": [
          "research-runs"
        ],
        "summary": "Get Research Run Costs",
        "description": "Get the cost breakdown for a specific research run.",
        "operationId": "get_research_run_costs_api_research_runs__run_id__costs_get",
        "parameters": [
          {
            "name": "run_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Run Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResearchRunCostResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/research-runs/{run_id}/narrative-state": {
      "get": {
        "tags": [
          "narrator"
        ],
        "summary": "Get Narrative State",
        "description": "Get the current narrator state for a research run.\n\nThis endpoint exists primarily to ensure ResearchRunState and TimelineEvent\ntypes are properly exported to the OpenAPI schema and generated in frontend types.\n\nReturns the complete state including timeline events.\n\nArgs:\n    run_id: Research run ID\n    request: FastAPI request object (for auth)\n    db: Database manager\n\nReturns:\n    ResearchRunState with full timeline",
        "operationId": "get_narrative_state_api_research_runs__run_id__narrative_state_get",
        "parameters": [
          {
            "name": "run_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Run Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResearchRunState"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/research-runs/{run_id}/narrative-stream": {
      "get": {
        "tags": [
          "narrator"
        ],
        "summary": "Narrative Stream",
        "description": "SSE endpoint that streams narrator timeline events and state updates.\n\nEvent Types:\n- \"state_snapshot\": Complete state snapshot (sent on connect)\n- \"timeline_event\": Individual timeline event (sent on connect + live)\n- \"state_delta\": Partial state update with only changed fields (live)\n- \"ping\": Keepalive ping (every 30s)\n\nArgs:\n    run_id: Research run ID\n    request: FastAPI request object (for auth)\n    db: Database manager\n\nReturns:\n    StreamingResponse streaming narrator events",
        "operationId": "narrative_stream_api_research_runs__run_id__narrative_stream_get",
        "parameters": [
          {
            "name": "run_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Run Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/paper-reviews": {
      "post": {
        "tags": [
          "paper-reviews"
        ],
        "summary": "Create Paper Review",
        "description": "Submit a paper for review.\n\nUpload a PDF file to start an asynchronous review process. The endpoint\nreturns immediately with a review ID that can be used to poll for results.\n\nRequires authentication. Costs will be charged when the review completes.",
        "operationId": "create_paper_review_api_paper_reviews_post",
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_create_paper_review_api_paper_reviews_post"
              }
            }
          }
        },
        "responses": {
          "202": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaperReviewStartedResponse"
                }
              }
            }
          },
          "402": {
            "description": "Insufficient balance to start paper review",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InsufficientBalanceError"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "paper-reviews"
        ],
        "summary": "List Paper Reviews",
        "description": "List paper reviews for the authenticated user.\n\nReturns a paginated list of review summaries including status.",
        "operationId": "list_paper_reviews_api_paper_reviews_get",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 20,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaperReviewListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/paper-reviews/pending": {
      "get": {
        "tags": [
          "paper-reviews"
        ],
        "summary": "Get Pending Reviews",
        "description": "Get all pending or processing reviews for the authenticated user.\n\nUse this endpoint to check if there are any reviews in progress.",
        "operationId": "get_pending_reviews_api_paper_reviews_pending_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PendingReviewsResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/paper-reviews/{review_id}": {
      "get": {
        "tags": [
          "paper-reviews"
        ],
        "summary": "Get Paper Review",
        "description": "Get a specific paper review by ID.\n\nOnly returns reviews owned by the authenticated user.\nPoll this endpoint to check if a review has completed.",
        "operationId": "get_paper_review_api_paper_reviews__review_id__get",
        "parameters": [
          {
            "name": "review_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Review Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaperReviewDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/paper-reviews/{review_id}/download": {
      "get": {
        "tags": [
          "paper-reviews"
        ],
        "summary": "Get Paper Download Url",
        "description": "Get a temporary download URL for the reviewed paper PDF.\n\nReturns a signed URL that expires after 1 hour. Only returns URLs\nfor papers owned by the authenticated user.\n\nReturns 402 Payment Required if the user's balance was negative when\nthe review completed.",
        "operationId": "get_paper_download_url_api_paper_reviews__review_id__download_get",
        "parameters": [
          {
            "name": "review_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Review Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaperDownloadResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/users/": {
      "get": {
        "tags": [
          "users"
        ],
        "summary": "List Users",
        "description": "List all active users.\n\nReturns all active users sorted by name.",
        "operationId": "list_users_api_users__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserListResponse"
                }
              }
            }
          }
        }
      }
    },
    "/mcp": {
      "post": {
        "tags": [
          "mcp"
        ],
        "summary": "Mcp Endpoint",
        "description": "Main MCP JSON-RPC endpoint.",
        "operationId": "mcp_endpoint_mcp_post",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/": {
      "get": {
        "summary": "Root",
        "description": "Get basic API information.",
        "operationId": "root__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": {
                    "type": "string"
                  },
                  "type": "object",
                  "title": "Response Root  Get"
                }
              }
            }
          }
        }
      }
    },
    "/health": {
      "get": {
        "summary": "Health Check",
        "description": "Check API health status.",
        "operationId": "health_check_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": {
                    "type": "string"
                  },
                  "type": "object",
                  "title": "Response Health Check Health Get"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "AccessRestrictedData": {
        "properties": {
          "has_enough_credits": {
            "type": "boolean",
            "title": "Has Enough Credits"
          },
          "access_restricted": {
            "type": "boolean",
            "title": "Access Restricted"
          },
          "access_restricted_reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Access Restricted Reason"
          }
        },
        "type": "object",
        "required": [
          "has_enough_credits",
          "access_restricted"
        ],
        "title": "AccessRestrictedData",
        "description": "Data for access restriction state changes."
      },
      "ActiveNode": {
        "properties": {
          "execution_id": {
            "type": "string",
            "title": "Execution Id",
            "description": "Unique execution ID"
          },
          "stage": {
            "$ref": "#/components/schemas/StageId",
            "description": "Stage identifier"
          },
          "status": {
            "type": "string",
            "enum": [
              "running",
              "completed",
              "failed"
            ],
            "title": "Status",
            "description": "Current execution status",
            "default": "running"
          },
          "started_at": {
            "type": "string",
            "format": "date-time",
            "title": "Started At",
            "description": "When execution started"
          },
          "completed_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completed At",
            "description": "When execution completed"
          },
          "exec_time": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Exec Time",
            "description": "Execution time in seconds"
          },
          "run_type": {
            "type": "string",
            "title": "Run Type",
            "description": "Type of run",
            "default": "main_execution"
          }
        },
        "type": "object",
        "required": [
          "execution_id",
          "stage",
          "started_at"
        ],
        "title": "ActiveNode",
        "description": "Represents a node currently executing in the research pipeline."
      },
      "ArtifactExistsRequest": {
        "properties": {
          "artifact_type": {
            "$ref": "#/components/schemas/ArtifactType"
          },
          "filename": {
            "type": "string",
            "title": "Filename"
          }
        },
        "type": "object",
        "required": [
          "artifact_type",
          "filename"
        ],
        "title": "ArtifactExistsRequest"
      },
      "ArtifactExistsResponse": {
        "properties": {
          "exists": {
            "type": "boolean",
            "title": "Exists"
          },
          "s3_key": {
            "type": "string",
            "title": "S3 Key"
          },
          "file_size": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "File Size"
          }
        },
        "type": "object",
        "required": [
          "exists",
          "s3_key"
        ],
        "title": "ArtifactExistsResponse"
      },
      "ArtifactPresignedUrlResponse": {
        "properties": {
          "url": {
            "type": "string",
            "title": "Url",
            "description": "Presigned S3 download URL (valid for 1 hour)"
          },
          "expires_in": {
            "type": "integer",
            "title": "Expires In",
            "description": "URL expiration time in seconds"
          },
          "artifact_id": {
            "type": "integer",
            "title": "Artifact Id",
            "description": "Artifact identifier"
          },
          "filename": {
            "type": "string",
            "title": "Filename",
            "description": "Original filename"
          }
        },
        "type": "object",
        "required": [
          "url",
          "expires_in",
          "artifact_id",
          "filename"
        ],
        "title": "ArtifactPresignedUrlResponse",
        "description": "Response containing presigned S3 download URL."
      },
      "ArtifactType": {
        "type": "string",
        "enum": [
          "plot",
          "paper_pdf",
          "latex_archive",
          "workspace_archive",
          "llm_review",
          "run_log",
          "run_config",
          "commit_hash"
        ],
        "title": "ArtifactType",
        "description": "Supported artifact types for research pipeline runs."
      },
      "ArtifactUploadedEvent": {
        "properties": {
          "artifact_type": {
            "$ref": "#/components/schemas/ArtifactType"
          },
          "filename": {
            "type": "string",
            "title": "Filename"
          },
          "file_size": {
            "type": "integer",
            "title": "File Size"
          },
          "file_type": {
            "type": "string",
            "title": "File Type"
          },
          "created_at": {
            "type": "string",
            "title": "Created At"
          }
        },
        "type": "object",
        "required": [
          "artifact_type",
          "filename",
          "file_size",
          "file_type",
          "created_at"
        ],
        "title": "ArtifactUploadedEvent"
      },
      "ArtifactUploadedPayload": {
        "properties": {
          "event": {
            "$ref": "#/components/schemas/ArtifactUploadedEvent"
          }
        },
        "type": "object",
        "required": [
          "event"
        ],
        "title": "ArtifactUploadedPayload"
      },
      "AuthStatus": {
        "properties": {
          "authenticated": {
            "type": "boolean",
            "title": "Authenticated",
            "description": "Whether the user is authenticated"
          },
          "user": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/AuthUser"
              },
              {
                "type": "null"
              }
            ],
            "description": "User information if authenticated"
          }
        },
        "type": "object",
        "required": [
          "authenticated"
        ],
        "title": "AuthStatus",
        "description": "Authentication status response."
      },
      "AuthUser": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id",
            "description": "Database user ID"
          },
          "email": {
            "type": "string",
            "title": "Email",
            "description": "User email address"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "User display name"
          }
        },
        "type": "object",
        "required": [
          "id",
          "email",
          "name"
        ],
        "title": "AuthUser",
        "description": "User information returned by authentication endpoints."
      },
      "BillingWalletResponse": {
        "properties": {
          "balance_cents": {
            "type": "integer",
            "title": "Balance Cents"
          },
          "transactions": {
            "items": {
              "$ref": "#/components/schemas/CreditTransactionModel"
            },
            "type": "array",
            "title": "Transactions"
          },
          "total_count": {
            "type": "integer",
            "title": "Total Count",
            "default": 0
          }
        },
        "type": "object",
        "required": [
          "balance_cents",
          "transactions"
        ],
        "title": "BillingWalletResponse",
        "description": "User's wallet balance and transaction history.\n\nBalance is in cents (e.g., 1000 = $10.00)."
      },
      "Body_create_paper_review_api_paper_reviews_post": {
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File",
            "description": "PDF file to review"
          },
          "model": {
            "type": "string",
            "title": "Model",
            "description": "LLM model to use for review (provider:model format)"
          },
          "num_reviews_ensemble": {
            "type": "integer",
            "maximum": 5.0,
            "minimum": 1.0,
            "title": "Num Reviews Ensemble",
            "description": "Number of ensemble reviews (1-5)"
          },
          "num_reflections": {
            "type": "integer",
            "maximum": 3.0,
            "minimum": 1.0,
            "title": "Num Reflections",
            "description": "Number of reflection rounds (1-3)"
          }
        },
        "type": "object",
        "required": [
          "file",
          "model",
          "num_reviews_ensemble",
          "num_reflections"
        ],
        "title": "Body_create_paper_review_api_paper_reviews_post"
      },
      "Body_upload_file_api_conversations__conversation_id__files_post": {
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File"
          },
          "llm_model": {
            "type": "string",
            "title": "Llm Model"
          },
          "llm_provider": {
            "type": "string",
            "title": "Llm Provider"
          }
        },
        "type": "object",
        "required": [
          "file",
          "llm_model",
          "llm_provider"
        ],
        "title": "Body_upload_file_api_conversations__conversation_id__files_post"
      },
      "ChatHistoryResponse": {
        "properties": {
          "chat_messages": {
            "items": {
              "$ref": "#/components/schemas/ChatMessage"
            },
            "type": "array",
            "title": "Chat Messages",
            "description": "List of chat messages"
          }
        },
        "type": "object",
        "required": [
          "chat_messages"
        ],
        "title": "ChatHistoryResponse",
        "description": "Chat history response."
      },
      "ChatMessage": {
        "properties": {
          "role": {
            "type": "string",
            "title": "Role",
            "description": "Message role ('user' or 'assistant')"
          },
          "content": {
            "type": "string",
            "title": "Content",
            "description": "Message content"
          },
          "sequence_number": {
            "type": "integer",
            "title": "Sequence Number",
            "description": "Sequence number for ordering"
          },
          "created_at": {
            "type": "string",
            "title": "Created At",
            "description": "ISO format creation timestamp"
          },
          "sent_by_user_id": {
            "type": "integer",
            "title": "Sent By User Id",
            "description": "ID of the user who sent this message"
          },
          "sent_by_user_name": {
            "type": "string",
            "title": "Sent By User Name",
            "description": "Name of the user who sent this message"
          },
          "sent_by_user_email": {
            "type": "string",
            "title": "Sent By User Email",
            "description": "Email of the user who sent this message"
          },
          "attachments": {
            "items": {
              "$ref": "#/components/schemas/FileAttachment"
            },
            "type": "array",
            "title": "Attachments",
            "description": "File attachments for this message"
          }
        },
        "type": "object",
        "required": [
          "role",
          "content",
          "sequence_number",
          "created_at",
          "sent_by_user_id",
          "sent_by_user_name",
          "sent_by_user_email"
        ],
        "title": "ChatMessage",
        "description": "Represents a single chat message."
      },
      "ChatRequest": {
        "properties": {
          "message": {
            "type": "string",
            "title": "Message",
            "description": "User message content"
          },
          "llm_provider": {
            "type": "string",
            "minLength": 1,
            "title": "Llm Provider",
            "description": "LLM provider to use"
          },
          "llm_model": {
            "type": "string",
            "minLength": 1,
            "title": "Llm Model",
            "description": "LLM model to use"
          },
          "attachment_ids": {
            "items": {
              "type": "integer"
            },
            "type": "array",
            "title": "Attachment Ids",
            "description": "List of file attachment IDs to include with this message"
          },
          "skip_user_message_creation": {
            "type": "boolean",
            "title": "Skip User Message Creation",
            "description": "If True, skip creating a new user message (for auto-trigger of existing messages)",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "message",
          "llm_provider",
          "llm_model"
        ],
        "title": "ChatRequest",
        "description": "Request model for sending a chat message."
      },
      "ChatStatus": {
        "type": "string",
        "enum": [
          "analyzing_request",
          "executing_tools",
          "getting_idea",
          "updating_idea",
          "generating_response",
          "done"
        ],
        "title": "ChatStatus",
        "description": "Status enum for chat operations."
      },
      "ChatStreamContentEvent": {
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "content"
            ],
            "const": "content",
            "title": "Type"
          },
          "data": {
            "type": "string",
            "title": "Data"
          }
        },
        "type": "object",
        "required": [
          "type",
          "data"
        ],
        "title": "ChatStreamContentEvent"
      },
      "ChatStreamDoneData": {
        "properties": {
          "idea_updated": {
            "type": "boolean",
            "title": "Idea Updated"
          },
          "assistant_response": {
            "type": "string",
            "title": "Assistant Response"
          }
        },
        "type": "object",
        "required": [
          "idea_updated",
          "assistant_response"
        ],
        "title": "ChatStreamDoneData",
        "description": "Final payload emitted when chat streaming completes."
      },
      "ChatStreamDoneEvent": {
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "done"
            ],
            "const": "done",
            "title": "Type"
          },
          "data": {
            "$ref": "#/components/schemas/ChatStreamDoneData"
          }
        },
        "type": "object",
        "required": [
          "type",
          "data"
        ],
        "title": "ChatStreamDoneEvent"
      },
      "ChatStreamErrorEvent": {
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "error"
            ],
            "const": "error",
            "title": "Type"
          },
          "data": {
            "type": "string",
            "title": "Data"
          }
        },
        "type": "object",
        "required": [
          "type",
          "data"
        ],
        "title": "ChatStreamErrorEvent"
      },
      "ChatStreamEvent": {
        "oneOf": [
          {
            "$ref": "#/components/schemas/ChatStreamStatusEvent"
          },
          {
            "$ref": "#/components/schemas/ChatStreamContentEvent"
          },
          {
            "$ref": "#/components/schemas/ChatStreamIdeaUpdatedEvent"
          },
          {
            "$ref": "#/components/schemas/ChatStreamErrorEvent"
          },
          {
            "$ref": "#/components/schemas/ChatStreamDoneEvent"
          }
        ],
        "title": "ChatStreamEvent",
        "description": "Root model exposed in OpenAPI for chat SSE events.",
        "discriminator": {
          "propertyName": "type",
          "mapping": {
            "content": "#/components/schemas/ChatStreamContentEvent",
            "done": "#/components/schemas/ChatStreamDoneEvent",
            "error": "#/components/schemas/ChatStreamErrorEvent",
            "idea_updated": "#/components/schemas/ChatStreamIdeaUpdatedEvent",
            "status": "#/components/schemas/ChatStreamStatusEvent"
          }
        }
      },
      "ChatStreamIdeaUpdatedEvent": {
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "idea_updated"
            ],
            "const": "idea_updated",
            "title": "Type"
          },
          "data": {
            "type": "string",
            "title": "Data"
          }
        },
        "type": "object",
        "required": [
          "type",
          "data"
        ],
        "title": "ChatStreamIdeaUpdatedEvent"
      },
      "ChatStreamStatusEvent": {
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "status"
            ],
            "const": "status",
            "title": "Type"
          },
          "data": {
            "$ref": "#/components/schemas/ChatStatus"
          }
        },
        "type": "object",
        "required": [
          "type",
          "data"
        ],
        "title": "ChatStreamStatusEvent"
      },
      "CheckoutSessionCreateRequest": {
        "properties": {
          "price_id": {
            "type": "string",
            "title": "Price Id"
          },
          "success_url": {
            "type": "string",
            "maxLength": 2083,
            "minLength": 1,
            "format": "uri",
            "title": "Success Url"
          },
          "cancel_url": {
            "type": "string",
            "maxLength": 2083,
            "minLength": 1,
            "format": "uri",
            "title": "Cancel Url"
          }
        },
        "type": "object",
        "required": [
          "price_id",
          "success_url",
          "cancel_url"
        ],
        "title": "CheckoutSessionCreateRequest"
      },
      "CheckoutSessionCreateResponse": {
        "properties": {
          "checkout_url": {
            "type": "string",
            "maxLength": 2083,
            "minLength": 1,
            "format": "uri",
            "title": "Checkout Url"
          }
        },
        "type": "object",
        "required": [
          "checkout_url"
        ],
        "title": "CheckoutSessionCreateResponse"
      },
      "ChildConversationInfo": {
        "properties": {
          "conversation_id": {
            "type": "integer",
            "title": "Conversation Id",
            "description": "Child conversation ID"
          },
          "title": {
            "type": "string",
            "title": "Title",
            "description": "Child conversation title"
          },
          "created_at": {
            "type": "string",
            "title": "Created At",
            "description": "ISO timestamp when created"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Conversation status"
          }
        },
        "type": "object",
        "required": [
          "conversation_id",
          "title",
          "created_at",
          "status"
        ],
        "title": "ChildConversationInfo",
        "description": "Brief info about a child conversation seeded from a run."
      },
      "CodexEventItem": {
        "properties": {
          "stage": {
            "$ref": "#/components/schemas/StageId"
          },
          "node": {
            "type": "integer",
            "title": "Node"
          },
          "event_type": {
            "type": "string",
            "title": "Event Type"
          },
          "event_content": {
            "type": "object",
            "title": "Event Content"
          },
          "occurred_at": {
            "type": "string",
            "title": "Occurred At"
          }
        },
        "type": "object",
        "required": [
          "stage",
          "node",
          "event_type",
          "event_content",
          "occurred_at"
        ],
        "title": "CodexEventItem",
        "description": "Single codex event for bulk insertion."
      },
      "CodexEventPayload": {
        "properties": {
          "event": {
            "type": "object",
            "title": "Event"
          }
        },
        "type": "object",
        "required": [
          "event"
        ],
        "title": "CodexEventPayload"
      },
      "CodexEventsBulkPayload": {
        "properties": {
          "events": {
            "items": {
              "$ref": "#/components/schemas/CodexEventItem"
            },
            "type": "array",
            "title": "Events"
          }
        },
        "type": "object",
        "required": [
          "events"
        ],
        "title": "CodexEventsBulkPayload",
        "description": "Payload for bulk codex event ingestion."
      },
      "ConversationCostResponse": {
        "properties": {
          "total_cost": {
            "type": "number",
            "title": "Total Cost"
          },
          "cost_by_model": {
            "items": {
              "$ref": "#/components/schemas/ModelCost"
            },
            "type": "array",
            "title": "Cost By Model"
          },
          "cost_by_research": {
            "items": {
              "$ref": "#/components/schemas/ResearchCost"
            },
            "type": "array",
            "title": "Cost By Research"
          }
        },
        "type": "object",
        "required": [
          "total_cost",
          "cost_by_model",
          "cost_by_research"
        ],
        "title": "ConversationCostResponse"
      },
      "ConversationImportConflictData": {
        "properties": {
          "conversations": {
            "items": {
              "$ref": "#/components/schemas/ConversationImportConflictItem"
            },
            "type": "array",
            "title": "Conversations"
          }
        },
        "type": "object",
        "required": [
          "conversations"
        ],
        "title": "ConversationImportConflictData"
      },
      "ConversationImportConflictEvent": {
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "conflict"
            ],
            "const": "conflict",
            "title": "Type"
          },
          "data": {
            "$ref": "#/components/schemas/ConversationImportConflictData"
          }
        },
        "type": "object",
        "required": [
          "type",
          "data"
        ],
        "title": "ConversationImportConflictEvent"
      },
      "ConversationImportConflictItem": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "title": {
            "type": "string",
            "title": "Title"
          },
          "updated_at": {
            "type": "string",
            "title": "Updated At"
          },
          "url": {
            "type": "string",
            "title": "Url"
          }
        },
        "type": "object",
        "required": [
          "id",
          "title",
          "updated_at",
          "url"
        ],
        "title": "ConversationImportConflictItem"
      },
      "ConversationImportContentEvent": {
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "content"
            ],
            "const": "content",
            "title": "Type"
          },
          "data": {
            "type": "string",
            "title": "Data"
          }
        },
        "type": "object",
        "required": [
          "type",
          "data"
        ],
        "title": "ConversationImportContentEvent"
      },
      "ConversationImportDoneData": {
        "properties": {
          "conversation": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ConversationResponse"
              },
              {
                "type": "null"
              }
            ]
          },
          "idea": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/Idea"
              },
              {
                "type": "null"
              }
            ]
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error"
          }
        },
        "type": "object",
        "title": "ConversationImportDoneData"
      },
      "ConversationImportDoneEvent": {
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "done"
            ],
            "const": "done",
            "title": "Type"
          },
          "data": {
            "$ref": "#/components/schemas/ConversationImportDoneData"
          }
        },
        "type": "object",
        "required": [
          "type",
          "data"
        ],
        "title": "ConversationImportDoneEvent"
      },
      "ConversationImportErrorEvent": {
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "error"
            ],
            "const": "error",
            "title": "Type"
          },
          "data": {
            "type": "string",
            "title": "Data"
          },
          "code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Code"
          }
        },
        "type": "object",
        "required": [
          "type",
          "data"
        ],
        "title": "ConversationImportErrorEvent"
      },
      "ConversationImportMarkdownDeltaEvent": {
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "markdown_delta"
            ],
            "const": "markdown_delta",
            "title": "Type"
          },
          "data": {
            "type": "string",
            "title": "Data"
          }
        },
        "type": "object",
        "required": [
          "type",
          "data"
        ],
        "title": "ConversationImportMarkdownDeltaEvent",
        "description": "Event emitted during streaming idea generation with markdown chunks."
      },
      "ConversationImportModelLimitData": {
        "properties": {
          "message": {
            "type": "string",
            "title": "Message"
          },
          "suggestion": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Suggestion"
          }
        },
        "type": "object",
        "required": [
          "message"
        ],
        "title": "ConversationImportModelLimitData"
      },
      "ConversationImportModelLimitEvent": {
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "model_limit_conflict"
            ],
            "const": "model_limit_conflict",
            "title": "Type"
          },
          "data": {
            "$ref": "#/components/schemas/ConversationImportModelLimitData"
          }
        },
        "type": "object",
        "required": [
          "type",
          "data"
        ],
        "title": "ConversationImportModelLimitEvent"
      },
      "ConversationImportProgressEvent": {
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "progress"
            ],
            "const": "progress",
            "title": "Type"
          },
          "data": {
            "$ref": "#/components/schemas/ConversationImportProgressPayload"
          }
        },
        "type": "object",
        "required": [
          "type",
          "data"
        ],
        "title": "ConversationImportProgressEvent"
      },
      "ConversationImportProgressPayload": {
        "properties": {
          "phase": {
            "type": "string",
            "title": "Phase"
          },
          "current": {
            "type": "integer",
            "title": "Current"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          }
        },
        "type": "object",
        "required": [
          "phase",
          "current",
          "total"
        ],
        "title": "ConversationImportProgressPayload"
      },
      "ConversationImportSectionUpdateEvent": {
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "section_update"
            ],
            "const": "section_update",
            "title": "Type"
          },
          "field": {
            "type": "string",
            "title": "Field"
          },
          "data": {
            "type": "string",
            "title": "Data"
          }
        },
        "type": "object",
        "required": [
          "type",
          "field",
          "data"
        ],
        "title": "ConversationImportSectionUpdateEvent"
      },
      "ConversationImportStateEvent": {
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "state"
            ],
            "const": "state",
            "title": "Type"
          },
          "data": {
            "type": "string",
            "enum": [
              "importing",
              "creating_manual_seed",
              "summarizing",
              "generating"
            ],
            "title": "Data"
          }
        },
        "type": "object",
        "required": [
          "type",
          "data"
        ],
        "title": "ConversationImportStateEvent"
      },
      "ConversationImportStreamEvent": {
        "oneOf": [
          {
            "$ref": "#/components/schemas/ConversationImportSectionUpdateEvent"
          },
          {
            "$ref": "#/components/schemas/ConversationImportStateEvent"
          },
          {
            "$ref": "#/components/schemas/ConversationImportProgressEvent"
          },
          {
            "$ref": "#/components/schemas/ConversationImportConflictEvent"
          },
          {
            "$ref": "#/components/schemas/ConversationImportModelLimitEvent"
          },
          {
            "$ref": "#/components/schemas/ConversationImportErrorEvent"
          },
          {
            "$ref": "#/components/schemas/ConversationImportDoneEvent"
          },
          {
            "$ref": "#/components/schemas/ConversationImportContentEvent"
          },
          {
            "$ref": "#/components/schemas/ConversationImportMarkdownDeltaEvent"
          }
        ],
        "title": "ConversationImportStreamEvent",
        "description": "Root model for conversation import SSE stream events.",
        "discriminator": {
          "propertyName": "type",
          "mapping": {
            "conflict": "#/components/schemas/ConversationImportConflictEvent",
            "content": "#/components/schemas/ConversationImportContentEvent",
            "done": "#/components/schemas/ConversationImportDoneEvent",
            "error": "#/components/schemas/ConversationImportErrorEvent",
            "markdown_delta": "#/components/schemas/ConversationImportMarkdownDeltaEvent",
            "model_limit_conflict": "#/components/schemas/ConversationImportModelLimitEvent",
            "progress": "#/components/schemas/ConversationImportProgressEvent",
            "section_update": "#/components/schemas/ConversationImportSectionUpdateEvent",
            "state": "#/components/schemas/ConversationImportStateEvent"
          }
        }
      },
      "ConversationListItem": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "url": {
            "type": "string",
            "title": "Url"
          },
          "title": {
            "type": "string",
            "title": "Title"
          },
          "import_date": {
            "type": "string",
            "title": "Import Date"
          },
          "created_at": {
            "type": "string",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "title": "Updated At"
          },
          "user_id": {
            "type": "integer",
            "title": "User Id"
          },
          "user_name": {
            "type": "string",
            "title": "User Name"
          },
          "user_email": {
            "type": "string",
            "title": "User Email"
          },
          "idea_title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Idea Title"
          },
          "idea_content": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Idea Content"
          },
          "last_user_message_content": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last User Message Content"
          },
          "last_assistant_message_content": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Assistant Message Content"
          },
          "manual_title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Manual Title"
          },
          "manual_hypothesis": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Manual Hypothesis"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "default": "draft"
          }
        },
        "type": "object",
        "required": [
          "id",
          "url",
          "title",
          "import_date",
          "created_at",
          "updated_at",
          "user_id",
          "user_name",
          "user_email"
        ],
        "title": "ConversationListItem",
        "description": "Response model for dashboard list view."
      },
      "ConversationListResponse": {
        "properties": {
          "conversations": {
            "items": {
              "$ref": "#/components/schemas/ConversationListItem"
            },
            "type": "array",
            "title": "Conversations",
            "description": "List of conversations"
          }
        },
        "type": "object",
        "required": [
          "conversations"
        ],
        "title": "ConversationListResponse",
        "description": "Response for listing conversations."
      },
      "ConversationResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id",
            "description": "Database ID of the conversation"
          },
          "url": {
            "type": "string",
            "title": "Url",
            "description": "Original conversation share URL"
          },
          "title": {
            "type": "string",
            "title": "Title",
            "description": "Conversation title"
          },
          "import_date": {
            "type": "string",
            "title": "Import Date",
            "description": "ISO format import timestamp"
          },
          "created_at": {
            "type": "string",
            "title": "Created At",
            "description": "ISO format creation timestamp"
          },
          "updated_at": {
            "type": "string",
            "title": "Updated At",
            "description": "ISO format last update timestamp"
          },
          "has_images": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Has Images",
            "description": "Whether conversation contains images"
          },
          "has_pdfs": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Has Pdfs",
            "description": "Whether conversation contains PDFs"
          },
          "user_id": {
            "type": "integer",
            "title": "User Id",
            "description": "ID of the user who imported the conversation"
          },
          "user_name": {
            "type": "string",
            "title": "User Name",
            "description": "Name of the user who imported the conversation"
          },
          "user_email": {
            "type": "string",
            "title": "User Email",
            "description": "Email of the user who imported the conversation"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Conversation status: 'draft' (initial) or 'with_research' (has research runs)"
          },
          "imported_chat": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/ImportedChatMessage"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Imported Chat",
            "description": "Conversation messages (optional)"
          },
          "manual_title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Manual Title",
            "description": "Manual title provided when the conversation originates from a manual seed"
          },
          "manual_hypothesis": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Manual Hypothesis",
            "description": "Manual hypothesis provided when the conversation originates from a manual seed"
          },
          "research_runs": {
            "items": {
              "$ref": "#/components/schemas/ResearchRunSummary"
            },
            "type": "array",
            "title": "Research Runs",
            "description": "Research pipeline runs associated with the conversation"
          },
          "parent_run_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Parent Run Id",
            "description": "Run ID of the parent research run if this conversation was seeded from a run"
          }
        },
        "type": "object",
        "required": [
          "id",
          "url",
          "title",
          "import_date",
          "created_at",
          "updated_at",
          "user_id",
          "user_name",
          "user_email",
          "status"
        ],
        "title": "ConversationResponse",
        "description": "Response model for conversation API endpoints."
      },
      "ConversationUpdate": {
        "properties": {
          "title": {
            "type": "string",
            "minLength": 1,
            "title": "Title",
            "description": "New title for the conversation"
          }
        },
        "type": "object",
        "required": [
          "title"
        ],
        "title": "ConversationUpdate",
        "description": "Data required to update a conversation."
      },
      "ConversationUpdateResponse": {
        "properties": {
          "conversation": {
            "$ref": "#/components/schemas/ConversationResponse",
            "description": "Updated conversation"
          }
        },
        "type": "object",
        "required": [
          "conversation"
        ],
        "title": "ConversationUpdateResponse",
        "description": "Response for conversation updates."
      },
      "CreditTransactionModel": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "amount_cents": {
            "type": "integer",
            "title": "Amount Cents"
          },
          "transaction_type": {
            "type": "string",
            "title": "Transaction Type"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "metadata": {
            "type": "object",
            "title": "Metadata"
          },
          "stripe_session_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Stripe Session Id"
          },
          "created_at": {
            "type": "string",
            "title": "Created At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "amount_cents",
          "transaction_type",
          "status",
          "created_at"
        ],
        "title": "CreditTransactionModel",
        "description": "A billing transaction record.\n\nAll amounts are in cents (e.g., 100 = $1.00)."
      },
      "DatasetFileInfo": {
        "properties": {
          "s3_key": {
            "type": "string",
            "title": "S3 Key"
          },
          "relative_path": {
            "type": "string",
            "title": "Relative Path"
          },
          "size": {
            "type": "integer",
            "title": "Size"
          },
          "download_url": {
            "type": "string",
            "title": "Download Url"
          }
        },
        "type": "object",
        "required": [
          "s3_key",
          "relative_path",
          "size",
          "download_url"
        ],
        "title": "DatasetFileInfo"
      },
      "DatasetUploadUrlRequest": {
        "properties": {
          "datasets_folder": {
            "type": "string",
            "title": "Datasets Folder"
          },
          "relative_path": {
            "type": "string",
            "title": "Relative Path"
          },
          "content_type": {
            "type": "string",
            "title": "Content Type"
          },
          "file_size": {
            "type": "integer",
            "title": "File Size"
          }
        },
        "type": "object",
        "required": [
          "datasets_folder",
          "relative_path",
          "content_type",
          "file_size"
        ],
        "title": "DatasetUploadUrlRequest"
      },
      "DatasetUploadUrlResponse": {
        "properties": {
          "upload_url": {
            "type": "string",
            "title": "Upload Url"
          },
          "s3_key": {
            "type": "string",
            "title": "S3 Key"
          },
          "expires_in": {
            "type": "integer",
            "title": "Expires In"
          }
        },
        "type": "object",
        "required": [
          "upload_url",
          "s3_key",
          "expires_in"
        ],
        "title": "DatasetUploadUrlResponse"
      },
      "ErrorResponse": {
        "properties": {
          "error": {
            "type": "string",
            "title": "Error",
            "description": "Error message"
          },
          "detail": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Detail",
            "description": "Additional error details"
          }
        },
        "type": "object",
        "required": [
          "error"
        ],
        "title": "ErrorResponse",
        "description": "Standard error response schema."
      },
      "ExecutionType": {
        "type": "string",
        "enum": [
          "stage_goal",
          "seed",
          "aggregation",
          "metrics"
        ],
        "title": "ExecutionType",
        "description": "Type of execution categorizing what the code execution is for."
      },
      "ExperimentalStageId": {
        "type": "string",
        "enum": [
          "1_initial_implementation",
          "2_baseline_tuning",
          "3_creative_research",
          "4_ablation_studies"
        ],
        "title": "ExperimentalStageId",
        "description": "Experimental stage identifier (stages 1-4 only)."
      },
      "FigureReviewEvent": {
        "properties": {
          "figure_name": {
            "type": "string",
            "title": "Figure Name"
          },
          "img_description": {
            "type": "string",
            "title": "Img Description"
          },
          "img_review": {
            "type": "string",
            "title": "Img Review"
          },
          "caption_review": {
            "type": "string",
            "title": "Caption Review"
          },
          "figrefs_review": {
            "type": "string",
            "title": "Figrefs Review"
          },
          "source_path": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Source Path"
          }
        },
        "type": "object",
        "required": [
          "figure_name",
          "img_description",
          "img_review",
          "caption_review",
          "figrefs_review"
        ],
        "title": "FigureReviewEvent"
      },
      "FigureReviewsEvent": {
        "properties": {
          "reviews": {
            "items": {
              "$ref": "#/components/schemas/FigureReviewEvent"
            },
            "type": "array",
            "title": "Reviews"
          }
        },
        "type": "object",
        "required": [
          "reviews"
        ],
        "title": "FigureReviewsEvent",
        "description": "Event containing multiple figure reviews."
      },
      "FigureReviewsPayload": {
        "properties": {
          "event": {
            "$ref": "#/components/schemas/FigureReviewsEvent"
          }
        },
        "type": "object",
        "required": [
          "event"
        ],
        "title": "FigureReviewsPayload"
      },
      "FileAttachment": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id",
            "description": "Unique attachment ID"
          },
          "filename": {
            "type": "string",
            "title": "Filename",
            "description": "Original filename"
          },
          "file_size": {
            "type": "integer",
            "title": "File Size",
            "description": "File size in bytes"
          },
          "file_type": {
            "type": "string",
            "title": "File Type",
            "description": "MIME type of the file"
          },
          "s3_key": {
            "type": "string",
            "title": "S3 Key",
            "description": "S3 storage key"
          },
          "created_at": {
            "type": "string",
            "title": "Created At",
            "description": "ISO format creation timestamp"
          }
        },
        "type": "object",
        "required": [
          "id",
          "filename",
          "file_size",
          "file_type",
          "s3_key",
          "created_at"
        ],
        "title": "FileAttachment",
        "description": "File attachment model for chat messages."
      },
      "FileListResponse": {
        "properties": {
          "files": {
            "items": {
              "$ref": "#/components/schemas/FileAttachment"
            },
            "type": "array",
            "title": "Files",
            "description": "List of file attachments"
          },
          "file_count": {
            "type": "integer",
            "title": "File Count",
            "description": "Number of files"
          }
        },
        "type": "object",
        "required": [
          "files",
          "file_count"
        ],
        "title": "FileListResponse",
        "description": "File list response."
      },
      "FileMetadata": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id",
            "description": "File attachment ID"
          },
          "s3_key": {
            "type": "string",
            "title": "S3 Key",
            "description": "S3 storage key"
          },
          "filename": {
            "type": "string",
            "title": "Filename",
            "description": "Original filename"
          },
          "file_size": {
            "type": "integer",
            "title": "File Size",
            "description": "File size in bytes"
          },
          "file_type": {
            "type": "string",
            "title": "File Type",
            "description": "MIME type"
          },
          "conversation_id": {
            "type": "integer",
            "title": "Conversation Id",
            "description": "Associated conversation ID"
          }
        },
        "type": "object",
        "required": [
          "id",
          "s3_key",
          "filename",
          "file_size",
          "file_type",
          "conversation_id"
        ],
        "title": "FileMetadata",
        "description": "File metadata response."
      },
      "FileUploadResponse": {
        "properties": {
          "file": {
            "$ref": "#/components/schemas/FileMetadata",
            "description": "Uploaded file metadata"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Success message"
          }
        },
        "type": "object",
        "required": [
          "file",
          "message"
        ],
        "title": "FileUploadResponse",
        "description": "File upload response."
      },
      "FundingOptionListResponse": {
        "properties": {
          "options": {
            "items": {
              "$ref": "#/components/schemas/FundingOptionModel"
            },
            "type": "array",
            "title": "Options"
          }
        },
        "type": "object",
        "required": [
          "options"
        ],
        "title": "FundingOptionListResponse",
        "description": "List of available funding options."
      },
      "FundingOptionModel": {
        "properties": {
          "price_id": {
            "type": "string",
            "title": "Price Id"
          },
          "amount_cents": {
            "type": "integer",
            "title": "Amount Cents"
          },
          "currency": {
            "type": "string",
            "title": "Currency"
          },
          "unit_amount": {
            "type": "integer",
            "title": "Unit Amount"
          },
          "nickname": {
            "type": "string",
            "title": "Nickname"
          }
        },
        "type": "object",
        "required": [
          "price_id",
          "amount_cents",
          "currency",
          "unit_amount",
          "nickname"
        ],
        "title": "FundingOptionModel",
        "description": "A funding option (Stripe price) that users can purchase.\n\nWith the new 1:1 model, paying $X adds $X to the wallet."
      },
      "GPUShortagePayload": {
        "properties": {
          "required_gpus": {
            "type": "integer",
            "title": "Required Gpus"
          },
          "available_gpus": {
            "type": "integer",
            "title": "Available Gpus"
          },
          "message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "required_gpus",
          "available_gpus"
        ],
        "title": "GPUShortagePayload"
      },
      "GpuTypeListResponse": {
        "properties": {
          "gpu_types": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Gpu Types"
          },
          "gpu_prices": {
            "additionalProperties": {
              "anyOf": [
                {
                  "type": "number"
                },
                {
                  "type": "null"
                }
              ]
            },
            "type": "object",
            "title": "Gpu Prices"
          },
          "gpu_display_names": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Gpu Display Names"
          },
          "gpu_vram_gb": {
            "additionalProperties": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ]
            },
            "type": "object",
            "title": "Gpu Vram Gb"
          }
        },
        "type": "object",
        "required": [
          "gpu_types",
          "gpu_prices",
          "gpu_display_names",
          "gpu_vram_gb"
        ],
        "title": "GpuTypeListResponse"
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "HardwareStatsPartition": {
        "properties": {
          "partition": {
            "type": "string",
            "title": "Partition"
          },
          "used_bytes": {
            "type": "integer",
            "title": "Used Bytes"
          }
        },
        "type": "object",
        "required": [
          "partition",
          "used_bytes"
        ],
        "title": "HardwareStatsPartition"
      },
      "HardwareStatsPayload": {
        "properties": {
          "partitions": {
            "items": {
              "$ref": "#/components/schemas/HardwareStatsPartition"
            },
            "type": "array",
            "title": "Partitions"
          }
        },
        "type": "object",
        "title": "HardwareStatsPayload"
      },
      "Idea": {
        "properties": {
          "idea_id": {
            "type": "integer",
            "title": "Idea Id",
            "description": "Idea ID"
          },
          "conversation_id": {
            "type": "integer",
            "title": "Conversation Id",
            "description": "Associated conversation ID"
          },
          "active_version": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/IdeaVersion"
              },
              {
                "type": "null"
              }
            ],
            "description": "Currently active version"
          },
          "created_at": {
            "type": "string",
            "title": "Created At",
            "description": "ISO format creation timestamp"
          },
          "updated_at": {
            "type": "string",
            "title": "Updated At",
            "description": "ISO format last update timestamp"
          }
        },
        "type": "object",
        "required": [
          "idea_id",
          "conversation_id",
          "created_at",
          "updated_at"
        ],
        "title": "Idea",
        "description": "Represents a research idea with its active version."
      },
      "IdeaGetResponse": {
        "properties": {
          "idea": {
            "$ref": "#/components/schemas/Idea",
            "description": "Retrieved idea"
          }
        },
        "type": "object",
        "required": [
          "idea"
        ],
        "title": "IdeaGetResponse",
        "description": "Get idea response."
      },
      "IdeaRefinementRequest": {
        "properties": {
          "title": {
            "type": "string",
            "title": "Title",
            "description": "Title of the research idea"
          },
          "idea_markdown": {
            "type": "string",
            "title": "Idea Markdown",
            "description": "Research idea in markdown format"
          }
        },
        "type": "object",
        "required": [
          "title",
          "idea_markdown"
        ],
        "title": "IdeaRefinementRequest",
        "description": "Request model for manually updating an idea with all fields."
      },
      "IdeaUpdateResponse": {
        "properties": {
          "idea": {
            "$ref": "#/components/schemas/Idea",
            "description": "Updated idea"
          }
        },
        "type": "object",
        "required": [
          "idea"
        ],
        "title": "IdeaUpdateResponse",
        "description": "Update idea response."
      },
      "IdeaVersion": {
        "properties": {
          "version_id": {
            "type": "integer",
            "title": "Version Id",
            "description": "Version ID"
          },
          "title": {
            "type": "string",
            "title": "Title",
            "description": "Title of the research idea"
          },
          "idea_markdown": {
            "type": "string",
            "title": "Idea Markdown",
            "description": "Research idea in markdown format"
          },
          "is_manual_edit": {
            "type": "boolean",
            "title": "Is Manual Edit",
            "description": "Whether this version was manually edited by user"
          },
          "version_number": {
            "type": "integer",
            "title": "Version Number",
            "description": "Version number for ordering"
          },
          "created_at": {
            "type": "string",
            "title": "Created At",
            "description": "ISO format creation timestamp"
          }
        },
        "type": "object",
        "required": [
          "version_id",
          "title",
          "idea_markdown",
          "is_manual_edit",
          "version_number",
          "created_at"
        ],
        "title": "IdeaVersion",
        "description": "Represents a single version of a research idea."
      },
      "IdeaVersionsResponse": {
        "properties": {
          "versions": {
            "items": {
              "$ref": "#/components/schemas/IdeaVersion"
            },
            "type": "array",
            "title": "Versions",
            "description": "List of idea versions"
          }
        },
        "type": "object",
        "required": [
          "versions"
        ],
        "title": "IdeaVersionsResponse",
        "description": "Get idea versions response."
      },
      "ImportChatCreateNew": {
        "properties": {
          "url": {
            "type": "string",
            "title": "Url",
            "description": "Share URL to import (ChatGPT or BranchPrompt)"
          },
          "llm_model": {
            "type": "string",
            "minLength": 1,
            "title": "Llm Model",
            "description": "LLM model to use"
          },
          "llm_provider": {
            "type": "string",
            "minLength": 1,
            "title": "Llm Provider",
            "description": "LLM provider to use"
          },
          "duplicate_resolution": {
            "type": "string",
            "enum": [
              "create_new"
            ],
            "const": "create_new",
            "title": "Duplicate Resolution"
          }
        },
        "type": "object",
        "required": [
          "url",
          "llm_model",
          "llm_provider",
          "duplicate_resolution"
        ],
        "title": "ImportChatCreateNew"
      },
      "ImportChatPrompt": {
        "properties": {
          "url": {
            "type": "string",
            "title": "Url",
            "description": "Share URL to import (ChatGPT or BranchPrompt)"
          },
          "llm_model": {
            "type": "string",
            "minLength": 1,
            "title": "Llm Model",
            "description": "LLM model to use"
          },
          "llm_provider": {
            "type": "string",
            "minLength": 1,
            "title": "Llm Provider",
            "description": "LLM provider to use"
          },
          "duplicate_resolution": {
            "type": "string",
            "enum": [
              "prompt"
            ],
            "const": "prompt",
            "title": "Duplicate Resolution"
          }
        },
        "type": "object",
        "required": [
          "url",
          "llm_model",
          "llm_provider",
          "duplicate_resolution"
        ],
        "title": "ImportChatPrompt"
      },
      "ImportChatUpdateExisting": {
        "properties": {
          "url": {
            "type": "string",
            "title": "Url",
            "description": "Share URL to import (ChatGPT or BranchPrompt)"
          },
          "llm_model": {
            "type": "string",
            "minLength": 1,
            "title": "Llm Model",
            "description": "LLM model to use"
          },
          "llm_provider": {
            "type": "string",
            "minLength": 1,
            "title": "Llm Provider",
            "description": "LLM provider to use"
          },
          "duplicate_resolution": {
            "type": "string",
            "enum": [
              "update_existing"
            ],
            "const": "update_existing",
            "title": "Duplicate Resolution"
          },
          "target_conversation_id": {
            "type": "integer",
            "title": "Target Conversation Id",
            "description": "Conversation ID to update when duplicate_resolution is update_existing"
          }
        },
        "type": "object",
        "required": [
          "url",
          "llm_model",
          "llm_provider",
          "duplicate_resolution",
          "target_conversation_id"
        ],
        "title": "ImportChatUpdateExisting"
      },
      "ImportedChatMessage": {
        "properties": {
          "role": {
            "type": "string",
            "title": "Role",
            "description": "Message role: 'user' or 'assistant'"
          },
          "content": {
            "type": "string",
            "title": "Content",
            "description": "Message content as Markdown"
          }
        },
        "type": "object",
        "required": [
          "role",
          "content"
        ],
        "title": "ImportedChatMessage",
        "description": "Represents a single message in a conversation."
      },
      "ImportedConversationSummaryUpdate": {
        "properties": {
          "summary": {
            "type": "string",
            "minLength": 1,
            "title": "Summary",
            "description": "Updated summary text"
          }
        },
        "type": "object",
        "required": [
          "summary"
        ],
        "title": "ImportedConversationSummaryUpdate",
        "description": "Data required to update a conversation summary."
      },
      "InitializationProgressPayload": {
        "properties": {
          "message": {
            "type": "string",
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "message"
        ],
        "title": "InitializationProgressPayload"
      },
      "InsufficientBalanceError": {
        "properties": {
          "detail": {
            "$ref": "#/components/schemas/InsufficientBalanceErrorDetail"
          }
        },
        "type": "object",
        "required": [
          "detail"
        ],
        "title": "InsufficientBalanceError",
        "description": "Error response when user has insufficient balance.\n\nReturned with HTTP 402 Payment Required.\nMatches FastAPI's HTTPException format with a 'detail' field."
      },
      "InsufficientBalanceErrorDetail": {
        "properties": {
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Human-readable error message"
          },
          "required_cents": {
            "type": "integer",
            "title": "Required Cents",
            "description": "Minimum balance required for the action"
          },
          "available_cents": {
            "type": "integer",
            "title": "Available Cents",
            "description": "User's current balance"
          },
          "action": {
            "type": "string",
            "title": "Action",
            "description": "The action that was attempted"
          }
        },
        "type": "object",
        "required": [
          "message",
          "required_cents",
          "available_cents",
          "action"
        ],
        "title": "InsufficientBalanceErrorDetail",
        "description": "Details of an insufficient balance error.\n\nAll amounts are in cents (e.g., 500 = $5.00)."
      },
      "LLMDefault": {
        "properties": {
          "llm_provider": {
            "type": "string",
            "minLength": 1,
            "title": "Llm Provider",
            "description": "LLM provider name"
          },
          "llm_model": {
            "type": "string",
            "minLength": 1,
            "title": "Llm Model",
            "description": "LLM model name"
          }
        },
        "type": "object",
        "required": [
          "llm_provider",
          "llm_model"
        ],
        "title": "LLMDefault",
        "description": "Model for LLM default settings."
      },
      "LLMDefaultsResponse": {
        "properties": {
          "current_default": {
            "$ref": "#/components/schemas/LLMDefault",
            "description": "Current default LLM settings"
          }
        },
        "type": "object",
        "required": [
          "current_default"
        ],
        "title": "LLMDefaultsResponse",
        "description": "Response model for getting LLM defaults."
      },
      "LLMDefaultsUpdateRequest": {
        "properties": {
          "llm_provider": {
            "type": "string",
            "minLength": 1,
            "title": "Llm Provider",
            "description": "LLM provider name"
          },
          "llm_model": {
            "type": "string",
            "minLength": 1,
            "title": "Llm Model",
            "description": "LLM model name"
          }
        },
        "type": "object",
        "required": [
          "llm_provider",
          "llm_model"
        ],
        "title": "LLMDefaultsUpdateRequest",
        "description": "Request model for updating LLM defaults."
      },
      "LLMDefaultsUpdateResponse": {
        "properties": {
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Success message"
          },
          "updated_default": {
            "$ref": "#/components/schemas/LLMDefault",
            "description": "The updated default settings"
          }
        },
        "type": "object",
        "required": [
          "message",
          "updated_default"
        ],
        "title": "LLMDefaultsUpdateResponse",
        "description": "Response model for updating LLM defaults."
      },
      "LLMModel": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Model ID"
          },
          "provider": {
            "type": "string",
            "title": "Provider",
            "description": "LLM provider name"
          },
          "label": {
            "type": "string",
            "title": "Label",
            "description": "Human-readable model label"
          },
          "supports_images": {
            "type": "boolean",
            "title": "Supports Images",
            "description": "Whether the model supports images"
          },
          "supports_pdfs": {
            "type": "boolean",
            "title": "Supports Pdfs",
            "description": "Whether the model supports PDFs"
          },
          "context_window_tokens": {
            "type": "integer",
            "title": "Context Window Tokens",
            "description": "Approximate maximum context window size in tokens"
          }
        },
        "type": "object",
        "required": [
          "id",
          "provider",
          "label",
          "supports_images",
          "supports_pdfs",
          "context_window_tokens"
        ],
        "title": "LLMModel",
        "description": "Model representing an LLM with ID and label."
      },
      "LLMPromptCreateRequest": {
        "properties": {
          "prompt_type": {
            "type": "string",
            "minLength": 1,
            "title": "Prompt Type",
            "description": "Type of prompt"
          },
          "system_prompt": {
            "type": "string",
            "minLength": 1,
            "title": "System Prompt",
            "description": "The system prompt text"
          }
        },
        "type": "object",
        "required": [
          "prompt_type",
          "system_prompt"
        ],
        "title": "LLMPromptCreateRequest",
        "description": "Request model for creating a new LLM prompt."
      },
      "LLMPromptDeleteResponse": {
        "properties": {
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Success or error message"
          }
        },
        "type": "object",
        "required": [
          "message"
        ],
        "title": "LLMPromptDeleteResponse",
        "description": "Response model for LLM prompt deletion."
      },
      "LLMPromptResponse": {
        "properties": {
          "system_prompt": {
            "type": "string",
            "title": "System Prompt",
            "description": "The system prompt text"
          },
          "is_default": {
            "type": "boolean",
            "title": "Is Default",
            "description": "Whether this is using the default prompt from code"
          }
        },
        "type": "object",
        "required": [
          "system_prompt",
          "is_default"
        ],
        "title": "LLMPromptResponse",
        "description": "Response model for LLM prompt operations."
      },
      "LLMProvidersResponse": {
        "properties": {
          "providers": {
            "additionalProperties": {
              "items": {
                "$ref": "#/components/schemas/LLMModel"
              },
              "type": "array"
            },
            "type": "object",
            "title": "Providers",
            "description": "Available providers and their models"
          }
        },
        "type": "object",
        "required": [
          "providers"
        ],
        "title": "LLMProvidersResponse",
        "description": "Response model for getting available LLM providers."
      },
      "LaunchResearchRunRequest": {
        "properties": {
          "gpu_type": {
            "type": "string",
            "title": "Gpu Type"
          }
        },
        "type": "object",
        "required": [
          "gpu_type"
        ],
        "title": "LaunchResearchRunRequest"
      },
      "ListDatasetsRequest": {
        "properties": {
          "datasets_folder": {
            "type": "string",
            "title": "Datasets Folder"
          }
        },
        "type": "object",
        "required": [
          "datasets_folder"
        ],
        "title": "ListDatasetsRequest"
      },
      "ListDatasetsResponse": {
        "properties": {
          "files": {
            "items": {
              "$ref": "#/components/schemas/DatasetFileInfo"
            },
            "type": "array",
            "title": "Files"
          },
          "expires_in": {
            "type": "integer",
            "title": "Expires In"
          }
        },
        "type": "object",
        "required": [
          "files",
          "expires_in"
        ],
        "title": "ListDatasetsResponse"
      },
      "LlmReviewNotFoundResponse": {
        "properties": {
          "run_id": {
            "type": "string",
            "title": "Run Id",
            "description": "Research run identifier"
          },
          "exists": {
            "type": "boolean",
            "title": "Exists",
            "description": "Indicates no review exists",
            "default": false
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Explanation that no review was found"
          }
        },
        "type": "object",
        "required": [
          "run_id",
          "message"
        ],
        "title": "LlmReviewNotFoundResponse",
        "description": "Response model when no review exists for a run."
      },
      "LlmReviewResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id",
            "description": "Unique identifier of the review"
          },
          "run_id": {
            "type": "string",
            "title": "Run Id",
            "description": "Research run identifier"
          },
          "summary": {
            "type": "string",
            "title": "Summary",
            "description": "Executive summary of the review"
          },
          "strengths": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Strengths",
            "description": "List of identified strengths"
          },
          "weaknesses": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Weaknesses",
            "description": "List of identified weaknesses"
          },
          "originality": {
            "type": "integer",
            "title": "Originality",
            "description": "Originality score (1-4)"
          },
          "quality": {
            "type": "integer",
            "title": "Quality",
            "description": "Quality score (1-4)"
          },
          "clarity": {
            "type": "integer",
            "title": "Clarity",
            "description": "Clarity score (1-4)"
          },
          "significance": {
            "type": "integer",
            "title": "Significance",
            "description": "Significance score (1-4)"
          },
          "questions": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Questions",
            "description": "List of reviewer questions"
          },
          "limitations": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Limitations",
            "description": "List of identified limitations"
          },
          "ethical_concerns": {
            "type": "boolean",
            "title": "Ethical Concerns",
            "description": "Whether ethical concerns were raised"
          },
          "soundness": {
            "type": "integer",
            "title": "Soundness",
            "description": "Soundness score (1-4)"
          },
          "presentation": {
            "type": "integer",
            "title": "Presentation",
            "description": "Presentation score (1-4)"
          },
          "contribution": {
            "type": "integer",
            "title": "Contribution",
            "description": "Contribution score (1-4)"
          },
          "overall": {
            "type": "integer",
            "title": "Overall",
            "description": "Overall quality score (1-10)"
          },
          "confidence": {
            "type": "integer",
            "title": "Confidence",
            "description": "Reviewer confidence score (1-5)"
          },
          "decision": {
            "type": "string",
            "title": "Decision",
            "description": "Final decision ('Accept' or 'Reject')"
          },
          "source_path": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Source Path",
            "description": "Source path or reference for the review"
          },
          "created_at": {
            "type": "string",
            "title": "Created At",
            "description": "ISO timestamp when the review was created"
          }
        },
        "type": "object",
        "required": [
          "id",
          "run_id",
          "summary",
          "strengths",
          "weaknesses",
          "originality",
          "quality",
          "clarity",
          "significance",
          "questions",
          "limitations",
          "ethical_concerns",
          "soundness",
          "presentation",
          "contribution",
          "overall",
          "confidence",
          "decision",
          "created_at"
        ],
        "title": "LlmReviewResponse",
        "description": "Response model for LLM review data."
      },
      "MCPApiKeyGeneratedResponse": {
        "properties": {
          "api_key": {
            "type": "string",
            "title": "Api Key"
          },
          "masked_key": {
            "type": "string",
            "title": "Masked Key"
          }
        },
        "type": "object",
        "required": [
          "api_key",
          "masked_key"
        ],
        "title": "MCPApiKeyGeneratedResponse",
        "description": "Response after generating a new API key."
      },
      "MCPApiKeyResponse": {
        "properties": {
          "has_key": {
            "type": "boolean",
            "title": "Has Key"
          },
          "api_key": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Api Key"
          },
          "masked_key": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Masked Key"
          }
        },
        "type": "object",
        "required": [
          "has_key"
        ],
        "title": "MCPApiKeyResponse",
        "description": "Response containing the MCP API key status."
      },
      "MCPApiKeyRevokedResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "message": {
            "type": "string",
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "success",
          "message"
        ],
        "title": "MCPApiKeyRevokedResponse",
        "description": "Response after revoking an API key."
      },
      "ManualIdeaSeedRequest": {
        "properties": {
          "idea_title": {
            "type": "string",
            "minLength": 1,
            "title": "Idea Title",
            "description": "Idea title to seed generation"
          },
          "idea_hypothesis": {
            "type": "string",
            "minLength": 1,
            "title": "Idea Hypothesis",
            "description": "Idea hypothesis to seed generation"
          },
          "llm_provider": {
            "type": "string",
            "minLength": 1,
            "title": "Llm Provider",
            "description": "LLM provider identifier"
          },
          "llm_model": {
            "type": "string",
            "minLength": 1,
            "title": "Llm Model",
            "description": "LLM model identifier"
          }
        },
        "type": "object",
        "required": [
          "idea_title",
          "idea_hypothesis",
          "llm_provider",
          "llm_model"
        ],
        "title": "ManualIdeaSeedRequest",
        "description": "Request payload for manual idea generation."
      },
      "MessageResponse": {
        "properties": {
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Response message"
          }
        },
        "type": "object",
        "required": [
          "message"
        ],
        "title": "MessageResponse",
        "description": "Simple message response."
      },
      "MetricCollection": {
        "properties": {
          "primary": {
            "$ref": "#/components/schemas/MetricInterpretation",
            "description": "Primary metric being optimized"
          },
          "secondary": {
            "items": {
              "$ref": "#/components/schemas/MetricInterpretation"
            },
            "type": "array",
            "title": "Secondary",
            "description": "Additional metrics tracked"
          }
        },
        "type": "object",
        "required": [
          "primary"
        ],
        "title": "MetricCollection",
        "description": "Group of related metrics for a node or stage."
      },
      "MetricInterpretation": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Metric name",
            "examples": [
              "accuracy",
              "f1_score"
            ]
          },
          "value": {
            "type": "number",
            "title": "Value",
            "description": "Raw metric value"
          },
          "formatted": {
            "type": "string",
            "title": "Formatted",
            "description": "Formatted for display",
            "examples": [
              "82.3%",
              "0.823"
            ]
          },
          "interpretation": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Interpretation",
            "description": "What this value means",
            "examples": [
              "5.2% above baseline",
              "Best result so far"
            ]
          },
          "context": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Context",
            "description": "Evaluation context",
            "examples": [
              "Validation set",
              "Test dataset"
            ]
          },
          "comparison": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Comparison",
            "description": "Comparison with baseline/previous best",
            "examples": [
              {
                "baseline": 0.77,
                "delta_vs_baseline": 0.053,
                "delta_vs_previous": 0.013,
                "previous_best": 0.81
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "name",
          "value",
          "formatted"
        ],
        "title": "MetricInterpretation",
        "description": "Interpreted metric with human-readable context.\n\nTransforms raw metric (0.8234567) into meaningful information:\n- Formatted: \"82.3%\"\n- Interpretation: \"5.2% above baseline\""
      },
      "ModelCost": {
        "properties": {
          "model": {
            "type": "string",
            "title": "Model"
          },
          "cost": {
            "type": "number",
            "title": "Cost"
          }
        },
        "type": "object",
        "required": [
          "model",
          "cost"
        ],
        "title": "ModelCost"
      },
      "MultipartUploadAbortRequest": {
        "properties": {
          "upload_id": {
            "type": "string",
            "title": "Upload Id"
          },
          "s3_key": {
            "type": "string",
            "title": "S3 Key"
          }
        },
        "type": "object",
        "required": [
          "upload_id",
          "s3_key"
        ],
        "title": "MultipartUploadAbortRequest",
        "description": "Request to abort a multipart upload."
      },
      "MultipartUploadCompleteRequest": {
        "properties": {
          "upload_id": {
            "type": "string",
            "title": "Upload Id"
          },
          "s3_key": {
            "type": "string",
            "title": "S3 Key"
          },
          "parts": {
            "items": {
              "$ref": "#/components/schemas/MultipartUploadPart"
            },
            "type": "array",
            "title": "Parts"
          },
          "artifact_type": {
            "$ref": "#/components/schemas/ArtifactType"
          },
          "filename": {
            "type": "string",
            "title": "Filename"
          },
          "file_size": {
            "type": "integer",
            "title": "File Size"
          },
          "content_type": {
            "type": "string",
            "title": "Content Type"
          }
        },
        "type": "object",
        "required": [
          "upload_id",
          "s3_key",
          "parts",
          "artifact_type",
          "filename",
          "file_size",
          "content_type"
        ],
        "title": "MultipartUploadCompleteRequest",
        "description": "Request to complete a multipart upload."
      },
      "MultipartUploadCompleteResponse": {
        "properties": {
          "s3_key": {
            "type": "string",
            "title": "S3 Key"
          },
          "success": {
            "type": "boolean",
            "title": "Success"
          }
        },
        "type": "object",
        "required": [
          "s3_key",
          "success"
        ],
        "title": "MultipartUploadCompleteResponse",
        "description": "Response after completing a multipart upload."
      },
      "MultipartUploadInitRequest": {
        "properties": {
          "artifact_type": {
            "$ref": "#/components/schemas/ArtifactType"
          },
          "filename": {
            "type": "string",
            "title": "Filename"
          },
          "content_type": {
            "type": "string",
            "title": "Content Type"
          },
          "file_size": {
            "type": "integer",
            "title": "File Size"
          },
          "part_size": {
            "type": "integer",
            "title": "Part Size",
            "description": "Size of each part in bytes"
          },
          "num_parts": {
            "type": "integer",
            "title": "Num Parts",
            "description": "Total number of parts"
          },
          "metadata": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "string"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata"
          }
        },
        "type": "object",
        "required": [
          "artifact_type",
          "filename",
          "content_type",
          "file_size",
          "part_size",
          "num_parts"
        ],
        "title": "MultipartUploadInitRequest",
        "description": "Request to initiate a multipart upload."
      },
      "MultipartUploadInitResponse": {
        "properties": {
          "upload_id": {
            "type": "string",
            "title": "Upload Id"
          },
          "s3_key": {
            "type": "string",
            "title": "S3 Key"
          },
          "part_urls": {
            "items": {
              "$ref": "#/components/schemas/MultipartUploadPartUrl"
            },
            "type": "array",
            "title": "Part Urls"
          },
          "expires_in": {
            "type": "integer",
            "title": "Expires In"
          }
        },
        "type": "object",
        "required": [
          "upload_id",
          "s3_key",
          "part_urls",
          "expires_in"
        ],
        "title": "MultipartUploadInitResponse",
        "description": "Response with multipart upload initiation details."
      },
      "MultipartUploadPart": {
        "properties": {
          "PartNumber": {
            "type": "integer",
            "title": "Partnumber"
          },
          "ETag": {
            "type": "string",
            "title": "Etag"
          }
        },
        "type": "object",
        "required": [
          "PartNumber",
          "ETag"
        ],
        "title": "MultipartUploadPart",
        "description": "Completed part information for multipart upload completion."
      },
      "MultipartUploadPartUrl": {
        "properties": {
          "part_number": {
            "type": "integer",
            "title": "Part Number"
          },
          "upload_url": {
            "type": "string",
            "title": "Upload Url"
          }
        },
        "type": "object",
        "required": [
          "part_number",
          "upload_url"
        ],
        "title": "MultipartUploadPartUrl",
        "description": "Presigned URL for uploading a single part."
      },
      "NodeExecutionCompletedEvent": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Unique event ID (UUID)"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "title": "Timestamp",
            "description": "When this event occurred"
          },
          "stage": {
            "$ref": "#/components/schemas/StageId",
            "description": "Stage identifier (e.g., '1_initial_implementation')"
          },
          "node_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Node Id",
            "description": "Node ID if event relates to specific node"
          },
          "type": {
            "type": "string",
            "enum": [
              "node_execution_completed"
            ],
            "const": "node_execution_completed",
            "title": "Type",
            "default": "node_execution_completed"
          },
          "headline": {
            "type": "string",
            "title": "Headline",
            "description": "Short headline"
          },
          "execution_id": {
            "type": "string",
            "title": "Execution Id",
            "description": "Unique execution ID"
          },
          "status": {
            "type": "string",
            "enum": [
              "success",
              "failed"
            ],
            "title": "Status",
            "description": "Execution status"
          },
          "exec_time": {
            "type": "number",
            "title": "Exec Time",
            "description": "Execution time in seconds"
          },
          "run_type": {
            "type": "string",
            "title": "Run Type",
            "description": "Type of run"
          },
          "execution_type": {
            "type": "string",
            "enum": [
              "stage_goal",
              "seed",
              "aggregation",
              "metrics"
            ],
            "title": "Execution Type",
            "description": "Type of execution (stage_goal, seed, aggregation, metrics)"
          },
          "is_seed_node": {
            "type": "boolean",
            "title": "Is Seed Node",
            "description": "True if this is a seed evaluation node"
          },
          "is_seed_agg_node": {
            "type": "boolean",
            "title": "Is Seed Agg Node",
            "description": "True if this is a seed aggregation node"
          },
          "node_index": {
            "type": "integer",
            "title": "Node Index",
            "description": "1-based node index within the stage for display purposes"
          }
        },
        "type": "object",
        "required": [
          "id",
          "timestamp",
          "stage",
          "headline",
          "execution_id",
          "status",
          "exec_time",
          "run_type",
          "execution_type",
          "is_seed_node",
          "is_seed_agg_node",
          "node_index"
        ],
        "title": "NodeExecutionCompletedEvent",
        "description": "Emitted when a node completes execution.\n\nEmission Criteria:\n- Triggered by run_completed events from research pipeline\n- Tracks node completion with timing and status\n- Pairs with NodeExecutionStartedEvent\n\nFrequency: 10-50 per stage (one per node execution)"
      },
      "NodeExecutionStartedEvent": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Unique event ID (UUID)"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "title": "Timestamp",
            "description": "When this event occurred"
          },
          "stage": {
            "$ref": "#/components/schemas/StageId",
            "description": "Stage identifier (e.g., '1_initial_implementation')"
          },
          "node_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Node Id",
            "description": "Node ID if event relates to specific node"
          },
          "type": {
            "type": "string",
            "enum": [
              "node_execution_started"
            ],
            "const": "node_execution_started",
            "title": "Type",
            "default": "node_execution_started"
          },
          "headline": {
            "type": "string",
            "title": "Headline",
            "description": "Short headline"
          },
          "execution_id": {
            "type": "string",
            "title": "Execution Id",
            "description": "Unique execution ID"
          },
          "run_type": {
            "type": "string",
            "title": "Run Type",
            "description": "Type of run"
          },
          "execution_type": {
            "type": "string",
            "enum": [
              "stage_goal",
              "seed",
              "aggregation",
              "metrics"
            ],
            "title": "Execution Type",
            "description": "Type of execution (stage_goal, seed, aggregation, metrics)"
          },
          "code_preview": {
            "type": "string",
            "title": "Code Preview",
            "description": "Full code being executed"
          },
          "is_seed_node": {
            "type": "boolean",
            "title": "Is Seed Node",
            "description": "True if this is a seed evaluation node"
          },
          "is_seed_agg_node": {
            "type": "boolean",
            "title": "Is Seed Agg Node",
            "description": "True if this is a seed aggregation node"
          },
          "node_index": {
            "type": "integer",
            "title": "Node Index",
            "description": "1-based node index within the stage for display purposes"
          }
        },
        "type": "object",
        "required": [
          "id",
          "timestamp",
          "stage",
          "headline",
          "execution_id",
          "run_type",
          "execution_type",
          "code_preview",
          "is_seed_node",
          "is_seed_agg_node",
          "node_index"
        ],
        "title": "NodeExecutionStartedEvent",
        "description": "Emitted when a node starts executing code.\n\nEmission Criteria:\n- Triggered by running_code events from research pipeline\n- Tracks individual node execution lifecycle\n- Helps show concurrent node execution\n\nFrequency: 10-50 per stage (one per node execution)"
      },
      "NodeResultEvent": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Unique event ID (UUID)"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "title": "Timestamp",
            "description": "When this event occurred"
          },
          "stage": {
            "$ref": "#/components/schemas/StageId",
            "description": "Stage identifier (e.g., '1_initial_implementation')"
          },
          "node_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Node Id",
            "description": "Node ID if event relates to specific node"
          },
          "type": {
            "type": "string",
            "enum": [
              "node_result"
            ],
            "const": "node_result",
            "title": "Type",
            "default": "node_result"
          },
          "headline": {
            "type": "string",
            "title": "Headline",
            "description": "Short headline"
          },
          "outcome": {
            "type": "string",
            "enum": [
              "success",
              "failure",
              "partial"
            ],
            "title": "Outcome",
            "description": "Execution outcome"
          },
          "summary": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Summary",
            "description": "Brief description of what occurred"
          },
          "metrics": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/MetricCollection"
              },
              {
                "type": "null"
              }
            ],
            "description": "Interpreted metrics"
          },
          "error_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Type",
            "description": "Error type if failed"
          },
          "error_summary": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Summary",
            "description": "Error explanation if failed"
          },
          "exec_time": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Exec Time",
            "description": "Execution time in seconds"
          }
        },
        "type": "object",
        "required": [
          "id",
          "timestamp",
          "stage",
          "headline",
          "outcome"
        ],
        "title": "NodeResultEvent",
        "description": "Emitted when a node completes execution.\n\nEmission Criteria:\n- Triggered when stage_event arrives with node completion\n- Includes metrics from corresponding stage_progress event\n- Emitted for each node that completes (success or failure)\n\nFrequency: 10-50 per stage (varies by stage complexity)"
      },
      "PaperDownloadResponse": {
        "properties": {
          "download_url": {
            "type": "string",
            "title": "Download Url",
            "description": "Temporary signed URL to download the PDF"
          },
          "filename": {
            "type": "string",
            "title": "Filename",
            "description": "Original filename of the PDF"
          }
        },
        "type": "object",
        "required": [
          "download_url",
          "filename"
        ],
        "title": "PaperDownloadResponse",
        "description": "Response with a temporary download URL for the paper PDF."
      },
      "PaperGenerationProgressEvent": {
        "properties": {
          "step": {
            "type": "string",
            "enum": [
              "plot_aggregation",
              "citation_gathering",
              "paper_writeup",
              "paper_review"
            ],
            "title": "Step"
          },
          "substep": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Substep"
          },
          "progress": {
            "type": "number",
            "title": "Progress"
          },
          "step_progress": {
            "type": "number",
            "title": "Step Progress"
          },
          "details": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Details"
          }
        },
        "type": "object",
        "required": [
          "step",
          "progress",
          "step_progress"
        ],
        "title": "PaperGenerationProgressEvent"
      },
      "PaperGenerationProgressPayload": {
        "properties": {
          "event": {
            "$ref": "#/components/schemas/PaperGenerationProgressEvent"
          }
        },
        "type": "object",
        "required": [
          "event"
        ],
        "title": "PaperGenerationProgressPayload"
      },
      "PaperGenerationStepEvent": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Unique event ID (UUID)"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "title": "Timestamp",
            "description": "When this event occurred"
          },
          "stage": {
            "$ref": "#/components/schemas/StageId",
            "description": "Stage identifier (e.g., '1_initial_implementation')"
          },
          "node_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Node Id",
            "description": "Node ID if event relates to specific node"
          },
          "type": {
            "type": "string",
            "enum": [
              "paper_generation_step"
            ],
            "const": "paper_generation_step",
            "title": "Type",
            "default": "paper_generation_step"
          },
          "headline": {
            "type": "string",
            "title": "Headline",
            "description": "Short headline"
          },
          "step": {
            "type": "string",
            "enum": [
              "plot_aggregation",
              "citation_gathering",
              "paper_writeup",
              "paper_review"
            ],
            "title": "Step",
            "description": "Current step"
          },
          "substep": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Substep",
            "description": "Substep if applicable"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "What's happening in this step"
          },
          "progress": {
            "type": "number",
            "title": "Progress",
            "description": "Overall progress (0.0-1.0)"
          },
          "step_progress": {
            "type": "number",
            "title": "Step Progress",
            "description": "Progress within this step (0.0-1.0)"
          },
          "details": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Details",
            "description": "Step-specific details (figures selected, citations found, etc.)"
          }
        },
        "type": "object",
        "required": [
          "id",
          "timestamp",
          "stage",
          "headline",
          "step",
          "progress",
          "step_progress"
        ],
        "title": "PaperGenerationStepEvent",
        "description": "Emitted during Stage 5 (paper generation).\n\nEmission Criteria:\n- Triggered by paper_generation_progress events\n- Shows current step and progress within paper generation\n- Emitted for each major paper generation step\n\nFrequency: 4-6 per paper generation stage"
      },
      "PaperReviewDetail": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Review status: pending, processing, completed, failed"
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message",
            "description": "Error message if status is failed"
          },
          "original_filename": {
            "type": "string",
            "title": "Original Filename",
            "description": "Original PDF filename"
          },
          "model": {
            "type": "string",
            "title": "Model",
            "description": "Model used for review"
          },
          "created_at": {
            "type": "string",
            "title": "Created At",
            "description": "ISO timestamp of review creation"
          },
          "has_enough_credits": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Has Enough Credits",
            "description": "Whether user had positive balance when review completed. NULL if still running."
          },
          "access_restricted": {
            "type": "boolean",
            "title": "Access Restricted",
            "description": "True if user cannot view full review details due to insufficient credits",
            "default": false
          },
          "access_restricted_reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Access Restricted Reason",
            "description": "Message explaining why access is restricted"
          },
          "summary": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Summary",
            "description": "Paper summary (null if not completed or restricted)"
          },
          "strengths": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Strengths",
            "description": "List of strengths (null if not completed or restricted)"
          },
          "weaknesses": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Weaknesses",
            "description": "List of weaknesses (null if not completed or restricted)"
          },
          "originality": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Originality"
          },
          "quality": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Quality"
          },
          "clarity": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Clarity"
          },
          "significance": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Significance"
          },
          "questions": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Questions"
          },
          "limitations": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Limitations"
          },
          "ethical_concerns": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ethical Concerns"
          },
          "soundness": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Soundness"
          },
          "presentation": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Presentation"
          },
          "contribution": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Contribution"
          },
          "overall": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Overall"
          },
          "confidence": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Confidence"
          },
          "decision": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Decision"
          },
          "token_usage": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/TokenUsage"
              },
              {
                "type": "null"
              }
            ],
            "description": "Token usage (null if not completed or restricted)"
          },
          "cost_cents": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Cost Cents",
            "description": "Cost charged in cents (null if restricted)"
          }
        },
        "type": "object",
        "required": [
          "id",
          "status",
          "original_filename",
          "model",
          "created_at"
        ],
        "title": "PaperReviewDetail",
        "description": "Paper review with computed fields for API responses.\n\nThis is used both as the service return type and the API response model."
      },
      "PaperReviewListResponse": {
        "properties": {
          "reviews": {
            "items": {
              "$ref": "#/components/schemas/PaperReviewSummary"
            },
            "type": "array",
            "title": "Reviews",
            "description": "List of review summaries"
          },
          "count": {
            "type": "integer",
            "title": "Count",
            "description": "Number of reviews returned"
          }
        },
        "type": "object",
        "required": [
          "reviews",
          "count"
        ],
        "title": "PaperReviewListResponse",
        "description": "Response for listing paper reviews."
      },
      "PaperReviewStartedResponse": {
        "properties": {
          "review_id": {
            "type": "integer",
            "title": "Review Id",
            "description": "Unique review ID"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Review status (pending)"
          }
        },
        "type": "object",
        "required": [
          "review_id",
          "status"
        ],
        "title": "PaperReviewStartedResponse",
        "description": "Response when a paper review is started."
      },
      "PaperReviewSummary": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id",
            "description": "Review ID"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Review status"
          },
          "summary": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Summary",
            "description": "Paper summary (null if pending or restricted)"
          },
          "overall": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Overall",
            "description": "Overall score (null if pending or restricted)"
          },
          "decision": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Decision",
            "description": "Review decision (null if pending or restricted)"
          },
          "original_filename": {
            "type": "string",
            "title": "Original Filename",
            "description": "Original PDF filename"
          },
          "model": {
            "type": "string",
            "title": "Model",
            "description": "Model used for review"
          },
          "created_at": {
            "type": "string",
            "title": "Created At",
            "description": "ISO timestamp of review creation"
          },
          "has_enough_credits": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Has Enough Credits",
            "description": "Whether user had positive balance when review completed. NULL if still running."
          },
          "access_restricted": {
            "type": "boolean",
            "title": "Access Restricted",
            "description": "True if user cannot view full review details due to insufficient credits",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "id",
          "status",
          "original_filename",
          "model",
          "created_at"
        ],
        "title": "PaperReviewSummary",
        "description": "Summary of a paper review for list views."
      },
      "ParentRunFileInfo": {
        "properties": {
          "s3_key": {
            "type": "string",
            "title": "S3 Key"
          },
          "filename": {
            "type": "string",
            "title": "Filename"
          },
          "size": {
            "type": "integer",
            "title": "Size"
          },
          "download_url": {
            "type": "string",
            "title": "Download Url"
          }
        },
        "type": "object",
        "required": [
          "s3_key",
          "filename",
          "size",
          "download_url"
        ],
        "title": "ParentRunFileInfo"
      },
      "ParentRunFilesRequest": {
        "properties": {
          "parent_run_id": {
            "type": "string",
            "title": "Parent Run Id"
          }
        },
        "type": "object",
        "required": [
          "parent_run_id"
        ],
        "title": "ParentRunFilesRequest"
      },
      "ParentRunFilesResponse": {
        "properties": {
          "files": {
            "items": {
              "$ref": "#/components/schemas/ParentRunFileInfo"
            },
            "type": "array",
            "title": "Files"
          },
          "expires_in": {
            "type": "integer",
            "title": "Expires In"
          }
        },
        "type": "object",
        "required": [
          "files",
          "expires_in"
        ],
        "title": "ParentRunFilesResponse"
      },
      "PendingReviewSummary": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id",
            "description": "Review ID"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Review status"
          },
          "original_filename": {
            "type": "string",
            "title": "Original Filename",
            "description": "Original PDF filename"
          },
          "model": {
            "type": "string",
            "title": "Model",
            "description": "Model used for review"
          },
          "created_at": {
            "type": "string",
            "title": "Created At",
            "description": "ISO timestamp of review creation"
          }
        },
        "type": "object",
        "required": [
          "id",
          "status",
          "original_filename",
          "model",
          "created_at"
        ],
        "title": "PendingReviewSummary",
        "description": "Summary of a pending/processing review."
      },
      "PendingReviewsResponse": {
        "properties": {
          "reviews": {
            "items": {
              "$ref": "#/components/schemas/PendingReviewSummary"
            },
            "type": "array",
            "title": "Reviews",
            "description": "List of pending reviews"
          },
          "count": {
            "type": "integer",
            "title": "Count",
            "description": "Number of pending reviews"
          }
        },
        "type": "object",
        "required": [
          "reviews",
          "count"
        ],
        "title": "PendingReviewsResponse",
        "description": "Response for listing pending reviews."
      },
      "PresignedUploadUrlRequest": {
        "properties": {
          "artifact_type": {
            "$ref": "#/components/schemas/ArtifactType"
          },
          "filename": {
            "type": "string",
            "title": "Filename"
          },
          "content_type": {
            "type": "string",
            "title": "Content Type"
          },
          "file_size": {
            "type": "integer",
            "title": "File Size"
          },
          "metadata": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "string"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata"
          }
        },
        "type": "object",
        "required": [
          "artifact_type",
          "filename",
          "content_type",
          "file_size"
        ],
        "title": "PresignedUploadUrlRequest"
      },
      "PresignedUploadUrlResponse": {
        "properties": {
          "upload_url": {
            "type": "string",
            "title": "Upload Url"
          },
          "s3_key": {
            "type": "string",
            "title": "S3 Key"
          },
          "expires_in": {
            "type": "integer",
            "title": "Expires In"
          }
        },
        "type": "object",
        "required": [
          "upload_url",
          "s3_key",
          "expires_in"
        ],
        "title": "PresignedUploadUrlResponse"
      },
      "ProgressUpdateEvent": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Unique event ID (UUID)"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "title": "Timestamp",
            "description": "When this event occurred"
          },
          "stage": {
            "$ref": "#/components/schemas/StageId",
            "description": "Stage identifier (e.g., '1_initial_implementation')"
          },
          "node_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Node Id",
            "description": "Node ID if event relates to specific node"
          },
          "type": {
            "type": "string",
            "enum": [
              "progress_update"
            ],
            "const": "progress_update",
            "title": "Type",
            "default": "progress_update"
          },
          "headline": {
            "type": "string",
            "title": "Headline",
            "description": "Short headline"
          },
          "current_focus": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Current Focus",
            "description": "What's happening right now"
          },
          "iteration": {
            "type": "integer",
            "title": "Iteration",
            "description": "Current iteration within the stage (1-based index)"
          },
          "max_iterations": {
            "type": "integer",
            "title": "Max Iterations",
            "description": "Total iterations planned"
          },
          "current_best": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/MetricCollection"
              },
              {
                "type": "null"
              }
            ],
            "description": "Current best metrics if available"
          },
          "is_seed_node": {
            "type": "boolean",
            "title": "Is Seed Node",
            "description": "True if this is seed evaluation progress",
            "default": false
          },
          "is_seed_agg_node": {
            "type": "boolean",
            "title": "Is Seed Agg Node",
            "description": "True if this is seed aggregation progress",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "id",
          "timestamp",
          "stage",
          "headline",
          "iteration",
          "max_iterations"
        ],
        "title": "ProgressUpdateEvent",
        "description": "Emitted periodically to show current focus.\n\nEmission Criteria:\n- Triggered by stage_progress events (every iteration)\n- Shows current iteration, focus, and progress metrics\n- Throttled to avoid overwhelming the timeline\n\nFrequency: ~10 per stage (one per iteration)"
      },
      "PublicConfigResponse": {
        "properties": {
          "pipeline_monitor_max_runtime_hours": {
            "type": "integer",
            "title": "Pipeline Monitor Max Runtime Hours"
          },
          "min_balance_cents_for_conversation": {
            "type": "integer",
            "title": "Min Balance Cents For Conversation"
          },
          "min_balance_cents_for_research_pipeline": {
            "type": "integer",
            "title": "Min Balance Cents For Research Pipeline"
          },
          "min_balance_cents_for_paper_review": {
            "type": "integer",
            "title": "Min Balance Cents For Paper Review"
          }
        },
        "type": "object",
        "required": [
          "pipeline_monitor_max_runtime_hours",
          "min_balance_cents_for_conversation",
          "min_balance_cents_for_research_pipeline",
          "min_balance_cents_for_paper_review"
        ],
        "title": "PublicConfigResponse",
        "description": "Public configuration values exposed to the frontend."
      },
      "ResearchCost": {
        "properties": {
          "run_id": {
            "type": "string",
            "title": "Run Id"
          },
          "cost": {
            "type": "number",
            "title": "Cost"
          }
        },
        "type": "object",
        "required": [
          "run_id",
          "cost"
        ],
        "title": "ResearchCost"
      },
      "ResearchRunAcceptedResponse": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status",
            "default": "ok"
          },
          "run_id": {
            "type": "string",
            "title": "Run Id"
          },
          "pod_id": {
            "type": "string",
            "title": "Pod Id"
          },
          "pod_name": {
            "type": "string",
            "title": "Pod Name"
          },
          "gpu_type": {
            "type": "string",
            "title": "Gpu Type"
          },
          "cost": {
            "type": "number",
            "title": "Cost"
          }
        },
        "type": "object",
        "required": [
          "run_id",
          "pod_id",
          "pod_name",
          "gpu_type",
          "cost"
        ],
        "title": "ResearchRunAcceptedResponse"
      },
      "ResearchRunAccessRestrictedEvent": {
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "access_restricted"
            ],
            "const": "access_restricted",
            "title": "Type"
          },
          "data": {
            "$ref": "#/components/schemas/AccessRestrictedData"
          }
        },
        "type": "object",
        "required": [
          "type",
          "data"
        ],
        "title": "ResearchRunAccessRestrictedEvent",
        "description": "Event emitted when a run's access restriction state changes (e.g., credits ran out)."
      },
      "ResearchRunArtifactEvent": {
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "artifact"
            ],
            "const": "artifact",
            "title": "Type"
          },
          "data": {
            "$ref": "#/components/schemas/ResearchRunArtifactMetadata"
          }
        },
        "type": "object",
        "required": [
          "type",
          "data"
        ],
        "title": "ResearchRunArtifactEvent"
      },
      "ResearchRunArtifactMetadata": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id",
            "description": "Artifact identifier"
          },
          "artifact_type": {
            "$ref": "#/components/schemas/ArtifactType",
            "description": "Artifact type"
          },
          "filename": {
            "type": "string",
            "title": "Filename",
            "description": "Original filename"
          },
          "file_size": {
            "type": "integer",
            "title": "File Size",
            "description": "File size in bytes"
          },
          "file_type": {
            "type": "string",
            "title": "File Type",
            "description": "MIME type"
          },
          "created_at": {
            "type": "string",
            "title": "Created At",
            "description": "ISO timestamp when the artifact was recorded"
          },
          "run_id": {
            "type": "string",
            "title": "Run Id",
            "description": "Research run identifier"
          },
          "conversation_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Conversation Id",
            "description": "ID of the associated conversation"
          }
        },
        "type": "object",
        "required": [
          "id",
          "artifact_type",
          "filename",
          "file_size",
          "file_type",
          "created_at",
          "run_id"
        ],
        "title": "ResearchRunArtifactMetadata"
      },
      "ResearchRunCodeExecution": {
        "properties": {
          "execution_id": {
            "type": "string",
            "title": "Execution Id",
            "description": "Unique identifier for the code execution attempt"
          },
          "stage": {
            "$ref": "#/components/schemas/StageId",
            "description": "Stage identifier"
          },
          "run_type": {
            "$ref": "#/components/schemas/RunType",
            "description": "Type of execution ('codex_execution' for the Codex session, 'runfile_execution' for the runfile command)."
          },
          "execution_type": {
            "$ref": "#/components/schemas/ExecutionType",
            "description": "Category of execution (stage_goal, seed, aggregation, metrics)."
          },
          "code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Code",
            "description": "Python source code submitted for execution"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Execution status reported by the worker"
          },
          "started_at": {
            "type": "string",
            "title": "Started At",
            "description": "ISO timestamp when execution began"
          },
          "completed_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completed At",
            "description": "ISO timestamp when execution ended"
          },
          "exec_time": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Exec Time",
            "description": "Execution time reported by the worker"
          }
        },
        "type": "object",
        "required": [
          "execution_id",
          "stage",
          "run_type",
          "execution_type",
          "status",
          "started_at"
        ],
        "title": "ResearchRunCodeExecution",
        "description": "Latest code execution snapshot for a run."
      },
      "ResearchRunCodeExecutionCompletedData": {
        "properties": {
          "execution_id": {
            "type": "string",
            "title": "Execution Id"
          },
          "stage": {
            "$ref": "#/components/schemas/StageId"
          },
          "run_type": {
            "$ref": "#/components/schemas/RunType"
          },
          "status": {
            "type": "string",
            "enum": [
              "success",
              "failed"
            ],
            "title": "Status"
          },
          "exec_time": {
            "type": "number",
            "title": "Exec Time"
          },
          "completed_at": {
            "type": "string",
            "title": "Completed At"
          }
        },
        "type": "object",
        "required": [
          "execution_id",
          "stage",
          "run_type",
          "status",
          "exec_time",
          "completed_at"
        ],
        "title": "ResearchRunCodeExecutionCompletedData"
      },
      "ResearchRunCodeExecutionCompletedEvent": {
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "code_execution_completed"
            ],
            "const": "code_execution_completed",
            "title": "Type"
          },
          "data": {
            "$ref": "#/components/schemas/ResearchRunCodeExecutionCompletedData"
          }
        },
        "type": "object",
        "required": [
          "type",
          "data"
        ],
        "title": "ResearchRunCodeExecutionCompletedEvent"
      },
      "ResearchRunCodeExecutionStartedData": {
        "properties": {
          "execution_id": {
            "type": "string",
            "title": "Execution Id"
          },
          "stage": {
            "$ref": "#/components/schemas/StageId"
          },
          "run_type": {
            "$ref": "#/components/schemas/RunType"
          },
          "execution_type": {
            "$ref": "#/components/schemas/ExecutionType"
          },
          "code": {
            "type": "string",
            "title": "Code"
          },
          "started_at": {
            "type": "string",
            "title": "Started At"
          }
        },
        "type": "object",
        "required": [
          "execution_id",
          "stage",
          "run_type",
          "execution_type",
          "code",
          "started_at"
        ],
        "title": "ResearchRunCodeExecutionStartedData"
      },
      "ResearchRunCodeExecutionStartedEvent": {
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "code_execution_started"
            ],
            "const": "code_execution_started",
            "title": "Type"
          },
          "data": {
            "$ref": "#/components/schemas/ResearchRunCodeExecutionStartedData"
          }
        },
        "type": "object",
        "required": [
          "type",
          "data"
        ],
        "title": "ResearchRunCodeExecutionStartedEvent"
      },
      "ResearchRunCompleteData": {
        "properties": {
          "status": {
            "type": "string",
            "enum": [
              "pending",
              "running",
              "completed",
              "failed",
              "cancelled"
            ],
            "title": "Status"
          },
          "success": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Success"
          },
          "message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "status"
        ],
        "title": "ResearchRunCompleteData"
      },
      "ResearchRunCompleteEvent": {
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "complete"
            ],
            "const": "complete",
            "title": "Type"
          },
          "data": {
            "$ref": "#/components/schemas/ResearchRunCompleteData"
          }
        },
        "type": "object",
        "required": [
          "type",
          "data"
        ],
        "title": "ResearchRunCompleteEvent"
      },
      "ResearchRunCostResponse": {
        "properties": {
          "total_cost": {
            "type": "number",
            "title": "Total Cost"
          },
          "cost_by_model": {
            "items": {
              "$ref": "#/components/schemas/ModelCost"
            },
            "type": "array",
            "title": "Cost By Model"
          }
        },
        "type": "object",
        "required": [
          "total_cost",
          "cost_by_model"
        ],
        "title": "ResearchRunCostResponse"
      },
      "ResearchRunDetailsResponse": {
        "properties": {
          "run": {
            "$ref": "#/components/schemas/ResearchRunInfo",
            "description": "Metadata describing the run"
          },
          "stage_progress": {
            "items": {
              "$ref": "#/components/schemas/ResearchRunStageProgress"
            },
            "type": "array",
            "title": "Stage Progress",
            "description": "Stage progress telemetry"
          },
          "stage_events": {
            "items": {
              "$ref": "#/components/schemas/ResearchRunStageEvent"
            },
            "type": "array",
            "title": "Stage Events",
            "description": "Stage completion events"
          },
          "stage_summaries": {
            "items": {
              "$ref": "#/components/schemas/ResearchRunStageSummary"
            },
            "type": "array",
            "title": "Stage Summaries",
            "description": "LLM-generated summaries for completed stages"
          },
          "events": {
            "items": {
              "$ref": "#/components/schemas/ResearchRunEvent"
            },
            "type": "array",
            "title": "Events",
            "description": "Audit events describing run-level lifecycle transitions"
          },
          "artifacts": {
            "items": {
              "$ref": "#/components/schemas/ResearchRunArtifactMetadata"
            },
            "type": "array",
            "title": "Artifacts",
            "description": "Artifacts uploaded for the run"
          },
          "paper_generation_progress": {
            "items": {
              "$ref": "#/components/schemas/ResearchRunPaperGenerationProgress"
            },
            "type": "array",
            "title": "Paper Generation Progress",
            "description": "Paper generation progress events (Stage 5)"
          },
          "stage_skip_windows": {
            "items": {
              "$ref": "#/components/schemas/ResearchRunStageSkipWindow"
            },
            "type": "array",
            "title": "Stage Skip Windows",
            "description": "Windows indicating when each stage became skippable."
          },
          "child_conversations": {
            "items": {
              "$ref": "#/components/schemas/ChildConversationInfo"
            },
            "type": "array",
            "title": "Child Conversations",
            "description": "Conversations that were seeded from this run"
          }
        },
        "type": "object",
        "required": [
          "run"
        ],
        "title": "ResearchRunDetailsResponse"
      },
      "ResearchRunErrorEvent": {
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "error"
            ],
            "const": "error",
            "title": "Type"
          },
          "data": {
            "type": "string",
            "title": "Data"
          }
        },
        "type": "object",
        "required": [
          "type",
          "data"
        ],
        "title": "ResearchRunErrorEvent"
      },
      "ResearchRunEvent": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id",
            "description": "Unique identifier of the audit event"
          },
          "run_id": {
            "type": "string",
            "title": "Run Id",
            "description": "Run identifier that produced the event"
          },
          "event_type": {
            "type": "string",
            "title": "Event Type",
            "description": "Audit event type label"
          },
          "metadata": {
            "type": "object",
            "title": "Metadata",
            "description": "Structured metadata captured for the event"
          },
          "occurred_at": {
            "type": "string",
            "title": "Occurred At",
            "description": "ISO timestamp when the event was recorded"
          }
        },
        "type": "object",
        "required": [
          "id",
          "run_id",
          "event_type",
          "occurred_at"
        ],
        "title": "ResearchRunEvent"
      },
      "ResearchRunHeartbeatEvent": {
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "heartbeat"
            ],
            "const": "heartbeat",
            "title": "Type"
          },
          "data": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Data"
          }
        },
        "type": "object",
        "required": [
          "type"
        ],
        "title": "ResearchRunHeartbeatEvent"
      },
      "ResearchRunHwCostActualData": {
        "properties": {
          "hw_actual_cost_cents": {
            "type": "integer",
            "title": "Hw Actual Cost Cents",
            "description": "Actual hardware cost in cents as billed by RunPod."
          },
          "hw_actual_cost_updated_at": {
            "type": "string",
            "title": "Hw Actual Cost Updated At",
            "description": "ISO timestamp when the billing summary was recorded."
          },
          "billing_summary": {
            "type": "object",
            "title": "Billing Summary",
            "description": "Raw billing summary metadata returned by RunPod."
          }
        },
        "type": "object",
        "required": [
          "hw_actual_cost_cents",
          "hw_actual_cost_updated_at"
        ],
        "title": "ResearchRunHwCostActualData"
      },
      "ResearchRunHwCostActualEvent": {
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "hw_cost_actual"
            ],
            "const": "hw_cost_actual",
            "title": "Type"
          },
          "data": {
            "$ref": "#/components/schemas/ResearchRunHwCostActualData"
          }
        },
        "type": "object",
        "required": [
          "type",
          "data"
        ],
        "title": "ResearchRunHwCostActualEvent"
      },
      "ResearchRunHwCostEstimateData": {
        "properties": {
          "hw_estimated_cost_cents": {
            "type": "integer",
            "title": "Hw Estimated Cost Cents",
            "description": "Estimated hardware cost in cents since the run started running."
          },
          "hw_cost_per_hour_cents": {
            "type": "integer",
            "title": "Hw Cost Per Hour Cents",
            "description": "RunPod hourly cost in cents recorded at launch."
          },
          "hw_started_running_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Hw Started Running At",
            "description": "ISO timestamp when the run transitioned from pending to running."
          }
        },
        "type": "object",
        "required": [
          "hw_estimated_cost_cents",
          "hw_cost_per_hour_cents"
        ],
        "title": "ResearchRunHwCostEstimateData"
      },
      "ResearchRunHwCostEstimateEvent": {
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "hw_cost_estimate"
            ],
            "const": "hw_cost_estimate",
            "title": "Type"
          },
          "data": {
            "$ref": "#/components/schemas/ResearchRunHwCostEstimateData"
          }
        },
        "type": "object",
        "required": [
          "type",
          "data"
        ],
        "title": "ResearchRunHwCostEstimateEvent"
      },
      "ResearchRunInfo": {
        "properties": {
          "run_id": {
            "type": "string",
            "title": "Run Id",
            "description": "Unique identifier of the run"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Current status of the run"
          },
          "idea_id": {
            "type": "integer",
            "title": "Idea Id",
            "description": "Idea ID associated with the run"
          },
          "idea_version_id": {
            "type": "integer",
            "title": "Idea Version Id",
            "description": "Idea version ID associated with the run"
          },
          "pod_id": {
            "type": "string",
            "title": "Pod Id",
            "description": "RunPod identifier"
          },
          "pod_name": {
            "type": "string",
            "title": "Pod Name",
            "description": "Human-friendly pod name"
          },
          "gpu_type": {
            "type": "string",
            "title": "Gpu Type",
            "description": "GPU type used for the run"
          },
          "cost": {
            "type": "number",
            "title": "Cost",
            "description": "Hourly RunPod cost (USD) captured when the run launched"
          },
          "public_ip": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Public Ip",
            "description": "Pod public IP address"
          },
          "ssh_port": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ssh Port",
            "description": "Pod SSH port mapping"
          },
          "pod_host_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Pod Host Id",
            "description": "RunPod host identifier"
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message",
            "description": "Failure details, if any"
          },
          "last_heartbeat_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Heartbeat At",
            "description": "ISO timestamp of the most recent heartbeat"
          },
          "heartbeat_failures": {
            "type": "integer",
            "title": "Heartbeat Failures",
            "description": "Consecutive missed heartbeats",
            "default": 0
          },
          "created_at": {
            "type": "string",
            "title": "Created At",
            "description": "ISO timestamp when the run was created"
          },
          "updated_at": {
            "type": "string",
            "title": "Updated At",
            "description": "ISO timestamp when the run was last updated"
          },
          "initialization_status": {
            "type": "string",
            "title": "Initialization Status",
            "description": "Initialization status message (pending/initializing/running)"
          },
          "start_deadline_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Start Deadline At",
            "description": "ISO timestamp representing the start deadline window"
          },
          "termination_status": {
            "type": "string",
            "enum": [
              "none",
              "requested",
              "in_progress",
              "terminated",
              "failed"
            ],
            "title": "Termination Status",
            "description": "Termination workflow status for the associated pod cleanup."
          },
          "termination_last_error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Termination Last Error",
            "description": "Last termination workflow error, if any."
          },
          "parent_run_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Parent Run Id",
            "description": "Parent run ID if this run's conversation was seeded from a previous run"
          },
          "restart_count": {
            "type": "integer",
            "title": "Restart Count",
            "description": "Number of times this run has been restarted due to pod failures",
            "default": 0
          },
          "last_restart_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Restart At",
            "description": "ISO timestamp of the last pod restart"
          },
          "last_restart_reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Restart Reason",
            "description": "Reason for the last restart (heartbeat_timeout or container_died)"
          },
          "has_enough_credits": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Has Enough Credits",
            "description": "Whether user had positive balance when run completed. NULL if still running."
          },
          "access_restricted": {
            "type": "boolean",
            "title": "Access Restricted",
            "description": "True if user cannot view full run details due to insufficient credits",
            "default": false
          },
          "access_restricted_reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Access Restricted Reason",
            "description": "Message explaining why access is restricted"
          }
        },
        "type": "object",
        "required": [
          "run_id",
          "status",
          "idea_id",
          "idea_version_id",
          "pod_id",
          "pod_name",
          "gpu_type",
          "cost",
          "created_at",
          "updated_at",
          "initialization_status",
          "termination_status"
        ],
        "title": "ResearchRunInfo"
      },
      "ResearchRunInitialEvent": {
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "initial"
            ],
            "const": "initial",
            "title": "Type"
          },
          "data": {
            "$ref": "#/components/schemas/ResearchRunInitialEventData"
          }
        },
        "type": "object",
        "required": [
          "type",
          "data"
        ],
        "title": "ResearchRunInitialEvent"
      },
      "ResearchRunInitialEventData": {
        "properties": {
          "run": {
            "$ref": "#/components/schemas/ResearchRunInfo"
          },
          "stage_progress": {
            "items": {
              "$ref": "#/components/schemas/ResearchRunStageProgress"
            },
            "type": "array",
            "title": "Stage Progress"
          },
          "stage_events": {
            "items": {
              "$ref": "#/components/schemas/ResearchRunStageEvent"
            },
            "type": "array",
            "title": "Stage Events"
          },
          "stage_summaries": {
            "items": {
              "$ref": "#/components/schemas/ResearchRunStageSummary"
            },
            "type": "array",
            "title": "Stage Summaries"
          },
          "artifacts": {
            "items": {
              "$ref": "#/components/schemas/ResearchRunArtifactMetadata"
            },
            "type": "array",
            "title": "Artifacts"
          },
          "paper_generation_progress": {
            "items": {
              "$ref": "#/components/schemas/ResearchRunPaperGenerationProgress"
            },
            "type": "array",
            "title": "Paper Generation Progress"
          },
          "stage_skip_windows": {
            "items": {
              "$ref": "#/components/schemas/ResearchRunStageSkipWindow"
            },
            "type": "array",
            "title": "Stage Skip Windows",
            "description": "Recorded windows when stages became skippable."
          },
          "hw_cost_estimate": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ResearchRunHwCostEstimateData"
              },
              {
                "type": "null"
              }
            ],
            "description": "Hardware cost estimate available when the initial snapshot was emitted."
          },
          "hw_cost_actual": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ResearchRunHwCostActualData"
              },
              {
                "type": "null"
              }
            ],
            "description": "Hardware cost billed so far, if available."
          },
          "code_executions": {
            "additionalProperties": {
              "$ref": "#/components/schemas/ResearchRunCodeExecution"
            },
            "type": "object",
            "title": "Code Executions",
            "description": "Latest code execution snapshot per run_type for the run."
          },
          "child_conversations": {
            "items": {
              "$ref": "#/components/schemas/ChildConversationInfo"
            },
            "type": "array",
            "title": "Child Conversations",
            "description": "Conversations that were seeded from this run."
          }
        },
        "type": "object",
        "required": [
          "run",
          "stage_progress",
          "stage_events",
          "stage_summaries",
          "artifacts",
          "paper_generation_progress"
        ],
        "title": "ResearchRunInitialEventData"
      },
      "ResearchRunInitializationStatusData": {
        "properties": {
          "initialization_status": {
            "type": "string",
            "title": "Initialization Status",
            "description": "Latest initialization status message for the run."
          },
          "updated_at": {
            "type": "string",
            "title": "Updated At",
            "description": "ISO timestamp for the status update."
          }
        },
        "type": "object",
        "required": [
          "initialization_status",
          "updated_at"
        ],
        "title": "ResearchRunInitializationStatusData"
      },
      "ResearchRunInitializationStatusEvent": {
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "initialization_status"
            ],
            "const": "initialization_status",
            "title": "Type"
          },
          "data": {
            "$ref": "#/components/schemas/ResearchRunInitializationStatusData"
          }
        },
        "type": "object",
        "required": [
          "type",
          "data"
        ],
        "title": "ResearchRunInitializationStatusEvent"
      },
      "ResearchRunListItem": {
        "properties": {
          "run_id": {
            "type": "string",
            "title": "Run Id",
            "description": "Unique identifier of the run"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Current status of the run"
          },
          "initialization_status": {
            "type": "string",
            "title": "Initialization Status",
            "description": "Initialization status message (pending/initializing/running)"
          },
          "idea_title": {
            "type": "string",
            "title": "Idea Title",
            "description": "Title from the idea version"
          },
          "idea_hypothesis": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Idea Hypothesis",
            "description": "Short hypothesis from the idea version"
          },
          "current_stage": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Current Stage",
            "description": "Latest stage from progress events"
          },
          "progress": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Progress",
            "description": "Overall pipeline progress (0-1) computed as completed-stages-only buckets (0.0, 0.2, 0.4, 0.6, 0.8, 1.0)."
          },
          "gpu_type": {
            "type": "string",
            "title": "Gpu Type",
            "description": "GPU type used for the run"
          },
          "cost": {
            "type": "number",
            "title": "Cost",
            "description": "Hourly RunPod cost (USD) captured when the pod launched"
          },
          "best_metric": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Best Metric",
            "description": "Best metric from latest progress event"
          },
          "created_by_name": {
            "type": "string",
            "title": "Created By Name",
            "description": "Name of the user who created the run"
          },
          "created_at": {
            "type": "string",
            "title": "Created At",
            "description": "ISO timestamp when the run was created"
          },
          "updated_at": {
            "type": "string",
            "title": "Updated At",
            "description": "ISO timestamp when the run was last updated"
          },
          "artifacts_count": {
            "type": "integer",
            "title": "Artifacts Count",
            "description": "Number of artifacts produced by this run",
            "default": 0
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message",
            "description": "Error message if the run failed"
          },
          "conversation_id": {
            "type": "integer",
            "title": "Conversation Id",
            "description": "ID of the associated conversation"
          },
          "conversation_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Conversation Url",
            "description": "Original conversation share URL (ChatGPT, Claude, etc.) if imported"
          },
          "parent_run_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Parent Run Id",
            "description": "Parent run ID if this run's conversation was seeded from a previous run"
          },
          "evaluation_overall": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Evaluation Overall",
            "description": "Overall evaluation score (1-10) from LLM review, if available"
          },
          "evaluation_decision": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Evaluation Decision",
            "description": "Evaluation decision ('Accept' or 'Reject') from LLM review, if available"
          },
          "has_enough_credits": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Has Enough Credits",
            "description": "Whether user had positive balance when run completed. NULL if still running."
          },
          "access_restricted": {
            "type": "boolean",
            "title": "Access Restricted",
            "description": "True if user cannot view full run details due to insufficient credits",
            "default": false
          },
          "access_restricted_reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Access Restricted Reason",
            "description": "Message explaining why access is restricted"
          }
        },
        "type": "object",
        "required": [
          "run_id",
          "status",
          "initialization_status",
          "idea_title",
          "gpu_type",
          "cost",
          "created_by_name",
          "created_at",
          "updated_at",
          "conversation_id"
        ],
        "title": "ResearchRunListItem",
        "description": "Item in the research runs list with enriched data from related tables."
      },
      "ResearchRunListResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/ResearchRunListItem"
            },
            "type": "array",
            "title": "Items",
            "description": "List of research runs"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total count of research runs"
          }
        },
        "type": "object",
        "required": [
          "total"
        ],
        "title": "ResearchRunListResponse",
        "description": "Response model for the research runs list API."
      },
      "ResearchRunPaperGenerationEvent": {
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "paper_generation_progress"
            ],
            "const": "paper_generation_progress",
            "title": "Type"
          },
          "data": {
            "$ref": "#/components/schemas/ResearchRunPaperGenerationProgress"
          }
        },
        "type": "object",
        "required": [
          "type",
          "data"
        ],
        "title": "ResearchRunPaperGenerationEvent"
      },
      "ResearchRunPaperGenerationProgress": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id",
            "description": "Unique identifier of the paper generation event"
          },
          "run_id": {
            "type": "string",
            "title": "Run Id",
            "description": "Research run identifier"
          },
          "step": {
            "type": "string",
            "title": "Step",
            "description": "Current step: plot_aggregation, citation_gathering, paper_writeup, or paper_review"
          },
          "substep": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Substep",
            "description": "Substep identifier (e.g., 'round_1', 'revision_2')"
          },
          "progress": {
            "type": "number",
            "title": "Progress",
            "description": "Overall progress (0.0-1.0)"
          },
          "step_progress": {
            "type": "number",
            "title": "Step Progress",
            "description": "Progress within current step (0.0-1.0)"
          },
          "details": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Details",
            "description": "Step-specific metadata (figures, citations, scores, etc.)"
          },
          "created_at": {
            "type": "string",
            "title": "Created At",
            "description": "ISO timestamp when the event was recorded"
          }
        },
        "type": "object",
        "required": [
          "id",
          "run_id",
          "step",
          "progress",
          "step_progress",
          "created_at"
        ],
        "title": "ResearchRunPaperGenerationProgress"
      },
      "ResearchRunReviewCompletedEvent": {
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "review_completed"
            ],
            "const": "review_completed",
            "title": "Type"
          },
          "data": {
            "$ref": "#/components/schemas/LlmReviewResponse"
          }
        },
        "type": "object",
        "required": [
          "type",
          "data"
        ],
        "title": "ResearchRunReviewCompletedEvent"
      },
      "ResearchRunRunEvent": {
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "run_event"
            ],
            "const": "run_event",
            "title": "Type"
          },
          "data": {
            "$ref": "#/components/schemas/ResearchRunEvent"
          }
        },
        "type": "object",
        "required": [
          "type",
          "data"
        ],
        "title": "ResearchRunRunEvent"
      },
      "ResearchRunStageCompletedEvent": {
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "stage_completed"
            ],
            "const": "stage_completed",
            "title": "Type"
          },
          "data": {
            "$ref": "#/components/schemas/ResearchRunStageEvent"
          }
        },
        "type": "object",
        "required": [
          "type",
          "data"
        ],
        "title": "ResearchRunStageCompletedEvent"
      },
      "ResearchRunStageEvent": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id",
            "description": "Unique identifier of the stage completion event"
          },
          "stage": {
            "$ref": "#/components/schemas/StageId",
            "description": "Stage identifier"
          },
          "node_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Node Id",
            "description": "Optional identifier associated with the stage (reserved for future use)"
          },
          "summary": {
            "type": "object",
            "title": "Summary",
            "description": "Summary payload stored for this stage"
          },
          "created_at": {
            "type": "string",
            "title": "Created At",
            "description": "ISO timestamp of the event"
          }
        },
        "type": "object",
        "required": [
          "id",
          "stage",
          "summary",
          "created_at"
        ],
        "title": "ResearchRunStageEvent"
      },
      "ResearchRunStageEventStream": {
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "stage_event"
            ],
            "const": "stage_event",
            "title": "Type"
          },
          "data": {
            "$ref": "#/components/schemas/ResearchRunStageEvent"
          }
        },
        "type": "object",
        "required": [
          "type",
          "data"
        ],
        "title": "ResearchRunStageEventStream"
      },
      "ResearchRunStageProgress": {
        "properties": {
          "stage": {
            "$ref": "#/components/schemas/StageId",
            "description": "Stage identifier"
          },
          "iteration": {
            "type": "integer",
            "title": "Iteration",
            "description": "Current iteration number"
          },
          "max_iterations": {
            "type": "integer",
            "title": "Max Iterations",
            "description": "Maximum iterations for the stage"
          },
          "progress": {
            "type": "number",
            "title": "Progress",
            "description": "Progress percentage (0-1)"
          },
          "total_nodes": {
            "type": "integer",
            "title": "Total Nodes",
            "description": "Total nodes considered so far"
          },
          "buggy_nodes": {
            "type": "integer",
            "title": "Buggy Nodes",
            "description": "Number of buggy nodes"
          },
          "good_nodes": {
            "type": "integer",
            "title": "Good Nodes",
            "description": "Number of good nodes"
          },
          "best_metric": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Best Metric",
            "description": "Best metric reported at this stage"
          },
          "created_at": {
            "type": "string",
            "title": "Created At",
            "description": "ISO timestamp when the event was recorded"
          }
        },
        "type": "object",
        "required": [
          "stage",
          "iteration",
          "max_iterations",
          "progress",
          "total_nodes",
          "buggy_nodes",
          "good_nodes",
          "created_at"
        ],
        "title": "ResearchRunStageProgress"
      },
      "ResearchRunStageProgressEvent": {
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "stage_progress"
            ],
            "const": "stage_progress",
            "title": "Type"
          },
          "data": {
            "$ref": "#/components/schemas/ResearchRunStageProgress"
          }
        },
        "type": "object",
        "required": [
          "type",
          "data"
        ],
        "title": "ResearchRunStageProgressEvent"
      },
      "ResearchRunStageSkipWindow": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id",
            "description": "Unique identifier for the skip window record"
          },
          "stage": {
            "$ref": "#/components/schemas/StageId",
            "description": "Stage identifier where skipping became possible"
          },
          "opened_at": {
            "type": "string",
            "title": "Opened At",
            "description": "ISO timestamp when the window opened"
          },
          "opened_reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Opened Reason",
            "description": "Reason provided when the window opened"
          },
          "closed_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Closed At",
            "description": "ISO timestamp when the window closed (if closed)"
          },
          "closed_reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Closed Reason",
            "description": "Reason provided when the window closed"
          }
        },
        "type": "object",
        "required": [
          "id",
          "stage",
          "opened_at"
        ],
        "title": "ResearchRunStageSkipWindow"
      },
      "ResearchRunStageSkipWindowEvent": {
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "stage_skip_window"
            ],
            "const": "stage_skip_window",
            "title": "Type"
          },
          "data": {
            "$ref": "#/components/schemas/ResearchRunStageSkipWindowUpdate"
          }
        },
        "type": "object",
        "required": [
          "type",
          "data"
        ],
        "title": "ResearchRunStageSkipWindowEvent"
      },
      "ResearchRunStageSkipWindowUpdate": {
        "properties": {
          "stage": {
            "$ref": "#/components/schemas/StageId"
          },
          "state": {
            "type": "string",
            "enum": [
              "opened",
              "closed"
            ],
            "title": "State"
          },
          "timestamp": {
            "type": "string",
            "title": "Timestamp"
          },
          "reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reason"
          }
        },
        "type": "object",
        "required": [
          "stage",
          "state",
          "timestamp"
        ],
        "title": "ResearchRunStageSkipWindowUpdate"
      },
      "ResearchRunStageSummary": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id",
            "description": "Unique identifier of the stage summary event"
          },
          "stage": {
            "$ref": "#/components/schemas/StageId",
            "description": "Stage identifier"
          },
          "summary": {
            "type": "string",
            "title": "Summary",
            "description": "LLM-generated transition summary"
          },
          "created_at": {
            "type": "string",
            "title": "Created At",
            "description": "ISO timestamp when the summary was recorded"
          }
        },
        "type": "object",
        "required": [
          "id",
          "stage",
          "summary",
          "created_at"
        ],
        "title": "ResearchRunStageSummary"
      },
      "ResearchRunStageSummaryEvent": {
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "stage_summary"
            ],
            "const": "stage_summary",
            "title": "Type"
          },
          "data": {
            "$ref": "#/components/schemas/ResearchRunStageSummary"
          }
        },
        "type": "object",
        "required": [
          "type",
          "data"
        ],
        "title": "ResearchRunStageSummaryEvent"
      },
      "ResearchRunState": {
        "properties": {
          "run_id": {
            "type": "string",
            "title": "Run Id",
            "description": "Unique run identifier"
          },
          "status": {
            "type": "string",
            "enum": [
              "pending",
              "running",
              "completed",
              "failed",
              "cancelled"
            ],
            "title": "Status"
          },
          "conversation_id": {
            "type": "integer",
            "title": "Conversation Id"
          },
          "idea_title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Idea Title"
          },
          "stages": {
            "items": {
              "$ref": "#/components/schemas/StageGoal"
            },
            "type": "array",
            "title": "Stages"
          },
          "current_stage": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/StageId"
              },
              {
                "type": "null"
              }
            ]
          },
          "timeline": {
            "items": {
              "oneOf": [
                {
                  "$ref": "#/components/schemas/RunStartedEvent"
                },
                {
                  "$ref": "#/components/schemas/StageStartedEvent"
                },
                {
                  "$ref": "#/components/schemas/NodeResultEvent"
                },
                {
                  "$ref": "#/components/schemas/StageCompletedEvent-Output"
                },
                {
                  "$ref": "#/components/schemas/StageTransitionEvent"
                },
                {
                  "$ref": "#/components/schemas/ProgressUpdateEvent"
                },
                {
                  "$ref": "#/components/schemas/PaperGenerationStepEvent"
                },
                {
                  "$ref": "#/components/schemas/NodeExecutionStartedEvent"
                },
                {
                  "$ref": "#/components/schemas/NodeExecutionCompletedEvent"
                },
                {
                  "$ref": "#/components/schemas/RunFinishedEvent"
                }
              ],
              "discriminator": {
                "propertyName": "type",
                "mapping": {
                  "node_execution_completed": "#/components/schemas/NodeExecutionCompletedEvent",
                  "node_execution_started": "#/components/schemas/NodeExecutionStartedEvent",
                  "node_result": "#/components/schemas/NodeResultEvent",
                  "paper_generation_step": "#/components/schemas/PaperGenerationStepEvent",
                  "progress_update": "#/components/schemas/ProgressUpdateEvent",
                  "run_finished": "#/components/schemas/RunFinishedEvent",
                  "run_started": "#/components/schemas/RunStartedEvent",
                  "stage_completed": "#/components/schemas/StageCompletedEvent-Output",
                  "stage_started": "#/components/schemas/StageStartedEvent",
                  "stage_transition": "#/components/schemas/StageTransitionEvent"
                }
              }
            },
            "type": "array",
            "title": "Timeline"
          },
          "current_focus": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Current Focus"
          },
          "active_nodes": {
            "items": {
              "$ref": "#/components/schemas/ActiveNode"
            },
            "type": "array",
            "title": "Active Nodes"
          },
          "overall_progress": {
            "type": "number",
            "title": "Overall Progress",
            "default": 0.0
          },
          "started_running_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Started Running At"
          },
          "completed_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completed At"
          },
          "gpu_type": {
            "type": "string",
            "title": "Gpu Type"
          },
          "estimated_cost_cents": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Estimated Cost Cents"
          },
          "actual_cost_cents": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Actual Cost Cents"
          },
          "cost_per_hour_cents": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Cost Per Hour Cents"
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message"
          },
          "version": {
            "type": "integer",
            "title": "Version",
            "default": 1
          }
        },
        "type": "object",
        "required": [
          "run_id",
          "status",
          "conversation_id",
          "gpu_type"
        ],
        "title": "ResearchRunState",
        "description": "Complete state of a research run. Single source of truth for frontend."
      },
      "ResearchRunStopResponse": {
        "properties": {
          "run_id": {
            "type": "string",
            "title": "Run Id"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "message": {
            "type": "string",
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "run_id",
          "status",
          "message"
        ],
        "title": "ResearchRunStopResponse"
      },
      "ResearchRunStreamEvent": {
        "oneOf": [
          {
            "$ref": "#/components/schemas/ResearchRunInitialEvent"
          },
          {
            "$ref": "#/components/schemas/ResearchRunCompleteEvent"
          },
          {
            "$ref": "#/components/schemas/ResearchRunStageProgressEvent"
          },
          {
            "$ref": "#/components/schemas/ResearchRunRunEvent"
          },
          {
            "$ref": "#/components/schemas/ResearchRunInitializationStatusEvent"
          },
          {
            "$ref": "#/components/schemas/ResearchRunTerminationStatusEvent"
          },
          {
            "$ref": "#/components/schemas/ResearchRunArtifactEvent"
          },
          {
            "$ref": "#/components/schemas/ResearchRunReviewCompletedEvent"
          },
          {
            "$ref": "#/components/schemas/ResearchRunAccessRestrictedEvent"
          },
          {
            "$ref": "#/components/schemas/ResearchRunStageCompletedEvent"
          },
          {
            "$ref": "#/components/schemas/ResearchRunPaperGenerationEvent"
          },
          {
            "$ref": "#/components/schemas/ResearchRunStageEventStream"
          },
          {
            "$ref": "#/components/schemas/ResearchRunStageSummaryEvent"
          },
          {
            "$ref": "#/components/schemas/ResearchRunCodeExecutionStartedEvent"
          },
          {
            "$ref": "#/components/schemas/ResearchRunCodeExecutionCompletedEvent"
          },
          {
            "$ref": "#/components/schemas/ResearchRunStageSkipWindowEvent"
          },
          {
            "$ref": "#/components/schemas/ResearchRunHeartbeatEvent"
          },
          {
            "$ref": "#/components/schemas/ResearchRunHwCostEstimateEvent"
          },
          {
            "$ref": "#/components/schemas/ResearchRunHwCostActualEvent"
          },
          {
            "$ref": "#/components/schemas/ResearchRunErrorEvent"
          }
        ],
        "title": "ResearchRunStreamEvent",
        "description": "Root model for research pipeline SSE events.",
        "discriminator": {
          "propertyName": "type",
          "mapping": {
            "access_restricted": "#/components/schemas/ResearchRunAccessRestrictedEvent",
            "artifact": "#/components/schemas/ResearchRunArtifactEvent",
            "code_execution_completed": "#/components/schemas/ResearchRunCodeExecutionCompletedEvent",
            "code_execution_started": "#/components/schemas/ResearchRunCodeExecutionStartedEvent",
            "complete": "#/components/schemas/ResearchRunCompleteEvent",
            "error": "#/components/schemas/ResearchRunErrorEvent",
            "heartbeat": "#/components/schemas/ResearchRunHeartbeatEvent",
            "hw_cost_actual": "#/components/schemas/ResearchRunHwCostActualEvent",
            "hw_cost_estimate": "#/components/schemas/ResearchRunHwCostEstimateEvent",
            "initial": "#/components/schemas/ResearchRunInitialEvent",
            "initialization_status": "#/components/schemas/ResearchRunInitializationStatusEvent",
            "paper_generation_progress": "#/components/schemas/ResearchRunPaperGenerationEvent",
            "review_completed": "#/components/schemas/ResearchRunReviewCompletedEvent",
            "run_event": "#/components/schemas/ResearchRunRunEvent",
            "stage_completed": "#/components/schemas/ResearchRunStageCompletedEvent",
            "stage_event": "#/components/schemas/ResearchRunStageEventStream",
            "stage_progress": "#/components/schemas/ResearchRunStageProgressEvent",
            "stage_skip_window": "#/components/schemas/ResearchRunStageSkipWindowEvent",
            "stage_summary": "#/components/schemas/ResearchRunStageSummaryEvent",
            "termination_status": "#/components/schemas/ResearchRunTerminationStatusEvent"
          }
        }
      },
      "ResearchRunSummary": {
        "properties": {
          "run_id": {
            "type": "string",
            "title": "Run Id",
            "description": "Unique identifier of the run"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Current status of the run"
          },
          "idea_id": {
            "type": "integer",
            "title": "Idea Id",
            "description": "Idea ID associated with the run"
          },
          "idea_version_id": {
            "type": "integer",
            "title": "Idea Version Id",
            "description": "Idea version ID associated with the run"
          },
          "pod_id": {
            "type": "string",
            "title": "Pod Id",
            "description": "RunPod identifier"
          },
          "pod_name": {
            "type": "string",
            "title": "Pod Name",
            "description": "Human-friendly pod name"
          },
          "gpu_type": {
            "type": "string",
            "title": "Gpu Type",
            "description": "GPU type used for the run"
          },
          "cost": {
            "type": "number",
            "title": "Cost",
            "description": "Hourly RunPod cost (USD) captured when the run launched"
          },
          "public_ip": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Public Ip",
            "description": "Pod public IP address"
          },
          "ssh_port": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ssh Port",
            "description": "Pod SSH port mapping"
          },
          "pod_host_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Pod Host Id",
            "description": "RunPod host identifier"
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message",
            "description": "Failure details, if any"
          },
          "last_heartbeat_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Heartbeat At",
            "description": "ISO timestamp of the most recent heartbeat"
          },
          "heartbeat_failures": {
            "type": "integer",
            "title": "Heartbeat Failures",
            "description": "Consecutive missed heartbeats",
            "default": 0
          },
          "created_at": {
            "type": "string",
            "title": "Created At",
            "description": "ISO timestamp when the run was created"
          },
          "updated_at": {
            "type": "string",
            "title": "Updated At",
            "description": "ISO timestamp when the run was last updated"
          }
        },
        "type": "object",
        "required": [
          "run_id",
          "status",
          "idea_id",
          "idea_version_id",
          "pod_id",
          "pod_name",
          "gpu_type",
          "cost",
          "created_at",
          "updated_at"
        ],
        "title": "ResearchRunSummary",
        "description": "Lightweight overview of a research pipeline run."
      },
      "ResearchRunTerminationStatusData": {
        "properties": {
          "status": {
            "type": "string",
            "enum": [
              "none",
              "requested",
              "in_progress",
              "terminated",
              "failed"
            ],
            "title": "Status"
          },
          "last_error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Error"
          }
        },
        "type": "object",
        "required": [
          "status"
        ],
        "title": "ResearchRunTerminationStatusData"
      },
      "ResearchRunTerminationStatusEvent": {
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "termination_status"
            ],
            "const": "termination_status",
            "title": "Type"
          },
          "data": {
            "$ref": "#/components/schemas/ResearchRunTerminationStatusData"
          }
        },
        "type": "object",
        "required": [
          "type",
          "data"
        ],
        "title": "ResearchRunTerminationStatusEvent"
      },
      "ReviewCompletedEvent": {
        "properties": {
          "summary": {
            "type": "string",
            "title": "Summary"
          },
          "strengths": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Strengths"
          },
          "weaknesses": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Weaknesses"
          },
          "originality": {
            "type": "integer",
            "title": "Originality"
          },
          "quality": {
            "type": "integer",
            "title": "Quality"
          },
          "clarity": {
            "type": "integer",
            "title": "Clarity"
          },
          "significance": {
            "type": "integer",
            "title": "Significance"
          },
          "questions": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Questions"
          },
          "limitations": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Limitations"
          },
          "ethical_concerns": {
            "type": "boolean",
            "title": "Ethical Concerns"
          },
          "soundness": {
            "type": "integer",
            "title": "Soundness"
          },
          "presentation": {
            "type": "integer",
            "title": "Presentation"
          },
          "contribution": {
            "type": "integer",
            "title": "Contribution"
          },
          "overall": {
            "type": "integer",
            "title": "Overall"
          },
          "confidence": {
            "type": "integer",
            "title": "Confidence"
          },
          "decision": {
            "type": "string",
            "title": "Decision"
          },
          "source_path": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Source Path"
          },
          "created_at": {
            "type": "string",
            "title": "Created At"
          }
        },
        "type": "object",
        "required": [
          "summary",
          "strengths",
          "weaknesses",
          "originality",
          "quality",
          "clarity",
          "significance",
          "questions",
          "limitations",
          "ethical_concerns",
          "soundness",
          "presentation",
          "contribution",
          "overall",
          "confidence",
          "decision",
          "source_path",
          "created_at"
        ],
        "title": "ReviewCompletedEvent"
      },
      "ReviewCompletedPayload": {
        "properties": {
          "event": {
            "$ref": "#/components/schemas/ReviewCompletedEvent"
          }
        },
        "type": "object",
        "required": [
          "event"
        ],
        "title": "ReviewCompletedPayload"
      },
      "RunCompletedEventPayload": {
        "properties": {
          "execution_id": {
            "type": "string",
            "title": "Execution Id"
          },
          "stage": {
            "$ref": "#/components/schemas/StageId"
          },
          "status": {
            "type": "string",
            "enum": [
              "success",
              "failed"
            ],
            "title": "Status"
          },
          "exec_time": {
            "type": "number",
            "title": "Exec Time"
          },
          "completed_at": {
            "type": "string",
            "title": "Completed At"
          },
          "run_type": {
            "$ref": "#/components/schemas/RunType"
          },
          "execution_type": {
            "$ref": "#/components/schemas/ExecutionType"
          },
          "is_seed_node": {
            "type": "boolean",
            "title": "Is Seed Node"
          },
          "is_seed_agg_node": {
            "type": "boolean",
            "title": "Is Seed Agg Node"
          },
          "node_index": {
            "type": "integer",
            "title": "Node Index"
          }
        },
        "type": "object",
        "required": [
          "execution_id",
          "stage",
          "status",
          "exec_time",
          "completed_at",
          "run_type",
          "execution_type",
          "is_seed_node",
          "is_seed_agg_node",
          "node_index"
        ],
        "title": "RunCompletedEventPayload"
      },
      "RunCompletedPayload": {
        "properties": {
          "event": {
            "$ref": "#/components/schemas/RunCompletedEventPayload"
          }
        },
        "type": "object",
        "required": [
          "event"
        ],
        "title": "RunCompletedPayload"
      },
      "RunFinishedEvent": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Unique event ID (UUID)"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "title": "Timestamp",
            "description": "When this event occurred"
          },
          "stage": {
            "$ref": "#/components/schemas/StageId",
            "description": "Stage identifier (e.g., '1_initial_implementation')"
          },
          "node_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Node Id",
            "description": "Node ID if event relates to specific node"
          },
          "type": {
            "type": "string",
            "enum": [
              "run_finished"
            ],
            "const": "run_finished",
            "title": "Type",
            "default": "run_finished"
          },
          "headline": {
            "type": "string",
            "title": "Headline",
            "description": "Short headline"
          },
          "status": {
            "type": "string",
            "enum": [
              "completed",
              "failed",
              "cancelled"
            ],
            "title": "Status",
            "description": "Final run status"
          },
          "success": {
            "type": "boolean",
            "title": "Success",
            "description": "Whether the run completed successfully"
          },
          "reason": {
            "type": "string",
            "enum": [
              "pipeline_completed",
              "pipeline_error",
              "heartbeat_timeout",
              "deadline_exceeded",
              "user_cancelled",
              "container_died",
              "pipeline_event_finish"
            ],
            "title": "Reason",
            "description": "Why the run finished"
          },
          "message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Message",
            "description": "Human-readable completion message"
          },
          "summary": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Summary",
            "description": "Summary of what was accomplished"
          },
          "total_duration_seconds": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Total Duration Seconds",
            "description": "Total run duration in seconds"
          },
          "stages_completed": {
            "type": "integer",
            "title": "Stages Completed",
            "description": "Number of stages completed",
            "default": 0
          },
          "total_nodes_executed": {
            "type": "integer",
            "title": "Total Nodes Executed",
            "description": "Total nodes executed",
            "default": 0
          },
          "best_result": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/MetricCollection"
              },
              {
                "type": "null"
              }
            ],
            "description": "Best result achieved if available"
          }
        },
        "type": "object",
        "required": [
          "id",
          "timestamp",
          "stage",
          "headline",
          "status",
          "success",
          "reason"
        ],
        "title": "RunFinishedEvent",
        "description": "Emitted when the entire research run finishes (success or failure).\n\nEmission Criteria:\n- Triggered by run_finished events from research pipeline\n- Triggered by monitor timeout/failure detection\n- Triggered by user cancellation\n- Final event in the timeline\n\nFrequency: 1 per run (always the last event)"
      },
      "RunFinishedPayload": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "success"
        ],
        "title": "RunFinishedPayload"
      },
      "RunLogEvent": {
        "properties": {
          "message": {
            "type": "string",
            "title": "Message"
          },
          "level": {
            "type": "string",
            "title": "Level",
            "default": "info"
          }
        },
        "type": "object",
        "required": [
          "message"
        ],
        "title": "RunLogEvent"
      },
      "RunLogPayload": {
        "properties": {
          "event": {
            "$ref": "#/components/schemas/RunLogEvent"
          }
        },
        "type": "object",
        "required": [
          "event"
        ],
        "title": "RunLogPayload"
      },
      "RunStartedEvent": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Unique event ID (UUID)"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "title": "Timestamp",
            "description": "When this event occurred"
          },
          "stage": {
            "$ref": "#/components/schemas/StageId",
            "description": "Stage identifier (e.g., '1_initial_implementation')"
          },
          "node_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Node Id",
            "description": "Node ID if event relates to specific node"
          },
          "type": {
            "type": "string",
            "enum": [
              "run_started"
            ],
            "const": "run_started",
            "title": "Type",
            "default": "run_started"
          },
          "headline": {
            "type": "string",
            "title": "Headline",
            "description": "Short headline"
          },
          "gpu_type": {
            "type": "string",
            "title": "Gpu Type",
            "description": "GPU type allocated"
          },
          "cost_per_hour_cents": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Cost Per Hour Cents",
            "description": "Cost per hour in cents"
          }
        },
        "type": "object",
        "required": [
          "id",
          "timestamp",
          "stage",
          "headline",
          "gpu_type"
        ],
        "title": "RunStartedEvent",
        "description": "Emitted when the research run actually starts executing (container is ready).\n\nEmission Criteria:\n- Triggered by run_started events from research pipeline\n- Marks the transition from \"pending\" to \"running\"\n- First event in the timeline (after creation)\n\nFrequency: 1 per run (always the first event)"
      },
      "RunTreeNodeResponse": {
        "properties": {
          "run_id": {
            "type": "string",
            "title": "Run Id"
          },
          "idea_title": {
            "type": "string",
            "title": "Idea Title"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "created_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created At"
          },
          "parent_run_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Parent Run Id"
          },
          "conversation_id": {
            "type": "integer",
            "title": "Conversation Id"
          },
          "is_current": {
            "type": "boolean",
            "title": "Is Current"
          }
        },
        "type": "object",
        "required": [
          "run_id",
          "idea_title",
          "status",
          "created_at",
          "parent_run_id",
          "conversation_id",
          "is_current"
        ],
        "title": "RunTreeNodeResponse",
        "description": "A single node in the run tree."
      },
      "RunTreeResponse": {
        "properties": {
          "nodes": {
            "items": {
              "$ref": "#/components/schemas/RunTreeNodeResponse"
            },
            "type": "array",
            "title": "Nodes"
          }
        },
        "type": "object",
        "required": [
          "nodes"
        ],
        "title": "RunTreeResponse",
        "description": "Response containing the full tree of runs."
      },
      "RunType": {
        "type": "string",
        "enum": [
          "codex_execution",
          "runfile_execution"
        ],
        "title": "RunType",
        "description": "Execution stream identifier for research pipeline code execution telemetry."
      },
      "RunningCodeEventPayload": {
        "properties": {
          "execution_id": {
            "type": "string",
            "title": "Execution Id"
          },
          "stage": {
            "$ref": "#/components/schemas/StageId"
          },
          "code": {
            "type": "string",
            "title": "Code"
          },
          "started_at": {
            "type": "string",
            "title": "Started At"
          },
          "run_type": {
            "$ref": "#/components/schemas/RunType"
          },
          "execution_type": {
            "$ref": "#/components/schemas/ExecutionType"
          },
          "is_seed_node": {
            "type": "boolean",
            "title": "Is Seed Node"
          },
          "is_seed_agg_node": {
            "type": "boolean",
            "title": "Is Seed Agg Node"
          },
          "node_index": {
            "type": "integer",
            "title": "Node Index"
          }
        },
        "type": "object",
        "required": [
          "execution_id",
          "stage",
          "code",
          "started_at",
          "run_type",
          "execution_type",
          "is_seed_node",
          "is_seed_agg_node",
          "node_index"
        ],
        "title": "RunningCodeEventPayload"
      },
      "RunningCodePayload": {
        "properties": {
          "event": {
            "$ref": "#/components/schemas/RunningCodeEventPayload"
          }
        },
        "type": "object",
        "required": [
          "event"
        ],
        "title": "RunningCodePayload"
      },
      "SeedFromRunResponse": {
        "properties": {
          "conversation_id": {
            "type": "integer",
            "title": "Conversation Id",
            "description": "ID of the new conversation"
          },
          "idea_id": {
            "type": "integer",
            "title": "Idea Id",
            "description": "ID of the new idea"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Success message"
          }
        },
        "type": "object",
        "required": [
          "conversation_id",
          "idea_id",
          "message"
        ],
        "title": "SeedFromRunResponse",
        "description": "Response when seeding a new idea from a run."
      },
      "SkipStageRequest": {
        "properties": {
          "stage": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/StageId"
              },
              {
                "type": "null"
              }
            ]
          },
          "reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reason"
          }
        },
        "type": "object",
        "title": "SkipStageRequest"
      },
      "SkipStageResponse": {
        "properties": {
          "status": {
            "type": "string",
            "enum": [
              "pending"
            ],
            "const": "pending",
            "title": "Status"
          },
          "message": {
            "type": "string",
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "status",
          "message"
        ],
        "title": "SkipStageResponse"
      },
      "StageCompletedEvent-Input": {
        "properties": {
          "stage": {
            "$ref": "#/components/schemas/StageId"
          },
          "main_stage_number": {
            "type": "integer",
            "title": "Main Stage Number"
          },
          "reason": {
            "type": "string",
            "title": "Reason"
          },
          "summary": {
            "type": "object",
            "title": "Summary"
          }
        },
        "type": "object",
        "required": [
          "stage",
          "main_stage_number",
          "reason",
          "summary"
        ],
        "title": "StageCompletedEvent"
      },
      "StageCompletedEvent-Output": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Unique event ID (UUID)"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "title": "Timestamp",
            "description": "When this event occurred"
          },
          "stage": {
            "$ref": "#/components/schemas/StageId",
            "description": "Stage identifier (e.g., '1_initial_implementation')"
          },
          "node_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Node Id",
            "description": "Node ID if event relates to specific node"
          },
          "type": {
            "type": "string",
            "enum": [
              "stage_completed"
            ],
            "const": "stage_completed",
            "title": "Type",
            "default": "stage_completed"
          },
          "headline": {
            "type": "string",
            "title": "Headline",
            "description": "Short headline"
          },
          "best_metrics": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/MetricCollection"
              },
              {
                "type": "null"
              }
            ],
            "description": "Best metrics achieved"
          }
        },
        "type": "object",
        "required": [
          "id",
          "timestamp",
          "stage",
          "headline"
        ],
        "title": "StageCompletedEvent",
        "description": "Emitted when a stage completes.\n\nEmission Criteria:\n- Triggered when stage_completed event arrives\n- Emitted once per stage completion\n\nFrequency: 5 per run (one per stage)"
      },
      "StageCompletedPayload": {
        "properties": {
          "event": {
            "$ref": "#/components/schemas/StageCompletedEvent-Input"
          }
        },
        "type": "object",
        "required": [
          "event"
        ],
        "title": "StageCompletedPayload"
      },
      "StageGoal": {
        "properties": {
          "stage": {
            "$ref": "#/components/schemas/StageId",
            "description": "Stage identifier"
          },
          "title": {
            "type": "string",
            "title": "Title",
            "description": "Display title"
          },
          "goal": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Goal",
            "description": "What we're trying to achieve"
          },
          "status": {
            "type": "string",
            "enum": [
              "pending",
              "in_progress",
              "completed",
              "skipped"
            ],
            "title": "Status",
            "description": "Current status",
            "default": "pending"
          },
          "progress": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Progress",
            "description": "Progress 0.0-1.0"
          }
        },
        "type": "object",
        "required": [
          "stage",
          "title"
        ],
        "title": "StageGoal",
        "description": "Goal and metadata for a pipeline stage."
      },
      "StageId": {
        "type": "string",
        "enum": [
          "1_initial_implementation",
          "2_baseline_tuning",
          "3_creative_research",
          "4_ablation_studies",
          "5_paper_generation"
        ],
        "title": "StageId",
        "description": "Stage identifier for all stages including paper generation."
      },
      "StageProgressEvent": {
        "properties": {
          "stage": {
            "$ref": "#/components/schemas/StageId"
          },
          "iteration": {
            "type": "integer",
            "title": "Iteration"
          },
          "max_iterations": {
            "type": "integer",
            "title": "Max Iterations"
          },
          "progress": {
            "type": "number",
            "title": "Progress"
          },
          "total_nodes": {
            "type": "integer",
            "title": "Total Nodes"
          },
          "buggy_nodes": {
            "type": "integer",
            "title": "Buggy Nodes"
          },
          "good_nodes": {
            "type": "integer",
            "title": "Good Nodes"
          },
          "best_metric": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Best Metric"
          },
          "is_seed_node": {
            "type": "boolean",
            "title": "Is Seed Node"
          },
          "is_seed_agg_node": {
            "type": "boolean",
            "title": "Is Seed Agg Node"
          }
        },
        "type": "object",
        "required": [
          "stage",
          "iteration",
          "max_iterations",
          "progress",
          "total_nodes",
          "buggy_nodes",
          "good_nodes",
          "best_metric",
          "is_seed_node",
          "is_seed_agg_node"
        ],
        "title": "StageProgressEvent"
      },
      "StageProgressPayload": {
        "properties": {
          "event": {
            "$ref": "#/components/schemas/StageProgressEvent"
          }
        },
        "type": "object",
        "required": [
          "event"
        ],
        "title": "StageProgressPayload"
      },
      "StageSkipWindowEventModel": {
        "properties": {
          "stage": {
            "$ref": "#/components/schemas/StageId"
          },
          "state": {
            "type": "string",
            "enum": [
              "opened",
              "closed"
            ],
            "title": "State"
          },
          "timestamp": {
            "type": "string",
            "title": "Timestamp"
          },
          "reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reason"
          }
        },
        "type": "object",
        "required": [
          "stage",
          "state",
          "timestamp"
        ],
        "title": "StageSkipWindowEventModel"
      },
      "StageSkipWindowPayload": {
        "properties": {
          "event": {
            "$ref": "#/components/schemas/StageSkipWindowEventModel"
          }
        },
        "type": "object",
        "required": [
          "event"
        ],
        "title": "StageSkipWindowPayload"
      },
      "StageStartedEvent": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Unique event ID (UUID)"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "title": "Timestamp",
            "description": "When this event occurred"
          },
          "stage": {
            "$ref": "#/components/schemas/StageId",
            "description": "Stage identifier (e.g., '1_initial_implementation')"
          },
          "node_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Node Id",
            "description": "Node ID if event relates to specific node"
          },
          "type": {
            "type": "string",
            "enum": [
              "stage_started"
            ],
            "const": "stage_started",
            "title": "Type",
            "default": "stage_started"
          },
          "headline": {
            "type": "string",
            "title": "Headline",
            "description": "Short headline"
          },
          "goal": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Goal",
            "description": "What we're trying to achieve"
          }
        },
        "type": "object",
        "required": [
          "id",
          "timestamp",
          "stage",
          "headline"
        ],
        "title": "StageStartedEvent",
        "description": "Emitted when a stage begins.\n\nEmission Criteria:\n- Triggered when stage_progress event arrives with iteration = 0\n- OR when first stage_event arrives for a new stage\n- Emitted once per stage (5 times per run)\n\nFrequency: 5 per run (one per stage)"
      },
      "StageSummaryEvent": {
        "properties": {
          "stage": {
            "$ref": "#/components/schemas/ExperimentalStageId"
          },
          "summary": {
            "type": "string",
            "title": "Summary"
          }
        },
        "type": "object",
        "required": [
          "stage",
          "summary"
        ],
        "title": "StageSummaryEvent",
        "description": "Event containing the LLM-generated transition summary for a stage."
      },
      "StageSummaryPayload": {
        "properties": {
          "event": {
            "$ref": "#/components/schemas/StageSummaryEvent"
          }
        },
        "type": "object",
        "required": [
          "event"
        ],
        "title": "StageSummaryPayload"
      },
      "StageTransitionEvent": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Unique event ID (UUID)"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "title": "Timestamp",
            "description": "When this event occurred"
          },
          "stage": {
            "$ref": "#/components/schemas/ExperimentalStageId",
            "description": "Experimental stage identifier"
          },
          "node_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Node Id",
            "description": "Node ID if event relates to specific node"
          },
          "type": {
            "type": "string",
            "enum": [
              "stage_transition"
            ],
            "const": "stage_transition",
            "title": "Type",
            "default": "stage_transition"
          },
          "headline": {
            "type": "string",
            "title": "Headline",
            "description": "Short headline"
          },
          "transition_summary": {
            "type": "string",
            "title": "Transition Summary",
            "description": "LLM-generated summary of what was accomplished and what comes next"
          }
        },
        "type": "object",
        "required": [
          "id",
          "timestamp",
          "stage",
          "headline",
          "transition_summary"
        ],
        "title": "StageTransitionEvent",
        "description": "Emitted when transitioning between stages with an LLM-generated summary.\n\nEmission Criteria:\n- Triggered by stage_summary events from research pipeline\n- Contains LLM-generated narrative about what was accomplished and what's next\n- Emitted after StageCompletedEvent, before next StageStartedEvent\n\nFrequency: 4 per run (one per experimental stage completion)"
      },
      "SummaryResponse": {
        "properties": {
          "summary": {
            "type": "string",
            "title": "Summary",
            "description": "Generated or updated summary"
          }
        },
        "type": "object",
        "required": [
          "summary"
        ],
        "title": "SummaryResponse",
        "description": "Response for summary operations."
      },
      "TerminateExecutionRequest": {
        "properties": {
          "payload": {
            "type": "string",
            "title": "Payload"
          }
        },
        "type": "object",
        "required": [
          "payload"
        ],
        "title": "TerminateExecutionRequest"
      },
      "TerminateExecutionResponse": {
        "properties": {
          "execution_id": {
            "type": "string",
            "title": "Execution Id"
          },
          "status": {
            "type": "string",
            "enum": [
              "terminating"
            ],
            "const": "terminating",
            "title": "Status"
          }
        },
        "type": "object",
        "required": [
          "execution_id",
          "status"
        ],
        "title": "TerminateExecutionResponse"
      },
      "TokenUsage": {
        "properties": {
          "input_tokens": {
            "type": "integer",
            "title": "Input Tokens",
            "description": "Total input tokens used"
          },
          "cached_input_tokens": {
            "type": "integer",
            "title": "Cached Input Tokens",
            "description": "Cached input tokens"
          },
          "output_tokens": {
            "type": "integer",
            "title": "Output Tokens",
            "description": "Total output tokens used"
          }
        },
        "type": "object",
        "required": [
          "input_tokens",
          "cached_input_tokens",
          "output_tokens"
        ],
        "title": "TokenUsage",
        "description": "Token usage summary for a paper review."
      },
      "TokenUsageEvent": {
        "properties": {
          "model": {
            "type": "string",
            "title": "Model"
          },
          "input_tokens": {
            "type": "integer",
            "title": "Input Tokens"
          },
          "cached_input_tokens": {
            "type": "integer",
            "title": "Cached Input Tokens"
          },
          "output_tokens": {
            "type": "integer",
            "title": "Output Tokens"
          }
        },
        "type": "object",
        "required": [
          "model",
          "input_tokens",
          "cached_input_tokens",
          "output_tokens"
        ],
        "title": "TokenUsageEvent"
      },
      "TokenUsagePayload": {
        "properties": {
          "event": {
            "$ref": "#/components/schemas/TokenUsageEvent"
          }
        },
        "type": "object",
        "required": [
          "event"
        ],
        "title": "TokenUsagePayload"
      },
      "TreeVizItem": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id",
            "description": "Tree viz identifier"
          },
          "run_id": {
            "type": "string",
            "title": "Run Id",
            "description": "Research run identifier"
          },
          "stage": {
            "$ref": "#/components/schemas/ExperimentalStageId",
            "description": "Stage identifier"
          },
          "version": {
            "type": "integer",
            "title": "Version",
            "description": "Version counter for the stored viz"
          },
          "viz": {
            "type": "object",
            "title": "Viz",
            "description": "Tree visualization payload"
          },
          "created_at": {
            "type": "string",
            "title": "Created At",
            "description": "ISO timestamp when the viz was stored"
          },
          "updated_at": {
            "type": "string",
            "title": "Updated At",
            "description": "ISO timestamp when the viz was last updated"
          }
        },
        "type": "object",
        "required": [
          "id",
          "run_id",
          "stage",
          "version",
          "viz",
          "created_at",
          "updated_at"
        ],
        "title": "TreeVizItem",
        "description": "Stored tree visualization payload for a run stage."
      },
      "TreeVizStoredEvent": {
        "properties": {
          "stage": {
            "$ref": "#/components/schemas/ExperimentalStageId"
          },
          "version": {
            "type": "integer",
            "title": "Version"
          },
          "viz": {
            "type": "object",
            "title": "Viz"
          }
        },
        "type": "object",
        "required": [
          "stage",
          "version",
          "viz"
        ],
        "title": "TreeVizStoredEvent"
      },
      "TreeVizStoredPayload": {
        "properties": {
          "event": {
            "$ref": "#/components/schemas/TreeVizStoredEvent"
          }
        },
        "type": "object",
        "required": [
          "event"
        ],
        "title": "TreeVizStoredPayload"
      },
      "UserListItem": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id",
            "description": "Database user ID"
          },
          "email": {
            "type": "string",
            "title": "Email",
            "description": "User email address"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "User display name"
          }
        },
        "type": "object",
        "required": [
          "id",
          "email",
          "name"
        ],
        "title": "UserListItem",
        "description": "User item for list responses."
      },
      "UserListResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/UserListItem"
            },
            "type": "array",
            "title": "Items",
            "description": "List of users"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total count of users"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total"
        ],
        "title": "UserListResponse",
        "description": "Response model for listing users."
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      },
      "WalletBalanceData": {
        "properties": {
          "balance_cents": {
            "type": "integer",
            "title": "Balance Cents"
          }
        },
        "type": "object",
        "required": [
          "balance_cents"
        ],
        "title": "WalletBalanceData"
      },
      "WalletBalanceEvent": {
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "balance"
            ],
            "const": "balance",
            "title": "Type"
          },
          "data": {
            "$ref": "#/components/schemas/WalletBalanceData"
          }
        },
        "type": "object",
        "required": [
          "type",
          "data"
        ],
        "title": "WalletBalanceEvent"
      },
      "WalletHeartbeatEvent": {
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "heartbeat"
            ],
            "const": "heartbeat",
            "title": "Type"
          },
          "data": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Data"
          }
        },
        "type": "object",
        "required": [
          "type"
        ],
        "title": "WalletHeartbeatEvent"
      },
      "WalletStreamEvent": {
        "oneOf": [
          {
            "$ref": "#/components/schemas/WalletBalanceEvent"
          },
          {
            "$ref": "#/components/schemas/WalletHeartbeatEvent"
          }
        ],
        "title": "WalletStreamEvent",
        "description": "Root model for wallet SSE updates.",
        "discriminator": {
          "propertyName": "type",
          "mapping": {
            "balance": "#/components/schemas/WalletBalanceEvent",
            "heartbeat": "#/components/schemas/WalletHeartbeatEvent"
          }
        }
      }
    }
  }
}
